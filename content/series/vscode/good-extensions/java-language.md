---
title: "Java è¯­è¨€"
date: 2021-12-29T19:40:51+08:00
draft: false
toc: true
comments: true
weight: 1600
summary: é˜…è¯»æœ¬ç« èŠ‚ï¼Œå¯ä»¥äº†è§£åˆ°å¦‚ä½•ä½¿ç”¨ VSCode å¼€å‘ Java è¯­è¨€é¡¹ç›®ã€‚
---

## å¯¼è¯»

VSCode å¯¹ Java çš„æ”¯æŒä¸»è¦ç”± [Extension Pack for Java](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack) æä¾›ï¼Œè¯¥æ‰©å±•åŒ…åŒ…å«å¦‚ä¸‹æ‰©å±•ï¼š

* [Language Support for Javaâ„¢ by Red Hat](https://marketplace.visualstudio.com/items?itemName=redhat.java) - [Eclipse Public License - v 2.0](https://marketplace.visualstudio.com/items/redhat.java/license)
* [Debugger for Java](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-debug) - [MIT License](https://marketplace.visualstudio.com/items/vscjava.vscode-java-debug/license)
* [Test Runner for Java](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-test) - [MIT License](https://marketplace.visualstudio.com/items/vscjava.vscode-java-test/license)
* [Maven for Java](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-maven) - [MIT License](https://marketplace.visualstudio.com/items/vscjava.vscode-maven/license)
* [Project Manager for Java](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-dependency) - [MIT License](https://marketplace.visualstudio.com/items/vscjava.vscode-java-dependency/license)
* [Visual Studio IntelliCode](https://marketplace.visualstudio.com/items?itemName=VisualStudioExptTeam.vscodeintellicode) - é—­æº [è®¸å¯è¯](https://marketplace.visualstudio.com/items?itemName=VisualStudioExptTeam.vscodeintellicode)

ç¤¾åŒºè¿˜æä¾›äº†å¦‚ä¸‹å¸¸ç”¨çš„ Java æ‰©å±•ï¼š

* [Spring Boot Extension Pack](https://marketplace.visualstudio.com/items?itemName=Pivotal.vscode-boot-dev-pack) - [Eclipse Public License - v 1.0](https://github.com/spring-projects/sts4/blob/main/license.txt)
    * [Spring Boot Tools](https://marketplace.visualstudio.com/items?itemName=Pivotal.vscode-spring-boot) - [Eclipse Public License - v 1.0](https://marketplace.visualstudio.com/items/Pivotal.vscode-spring-boot/license)
    * [Spring Initializr Java Support](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-spring-initializr) - [MIT License](https://marketplace.visualstudio.com/items/vscjava.vscode-spring-initializr/license)
    * [Spring Boot Dashboard](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-spring-boot-dashboard) - [MIT License](https://marketplace.visualstudio.com/items/vscjava.vscode-spring-boot-dashboard/license)
* [Gradle for Java](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-gradle) - [MIT License](https://marketplace.visualstudio.com/items/vscjava.vscode-gradle/license)
* [Bazel](https://marketplace.visualstudio.com/items?itemName=BazelBuild.vscode-bazel) - [Apache License 2.0](https://marketplace.visualstudio.com/items/BazelBuild.vscode-bazel/license)
* [Community Server Connectors](https://marketplace.visualstudio.com/items?itemName=redhat.vscode-community-server-connector) (for Apache Felix, Karaf, Tomcat, Jetty, etc) - [Eclipse Public License - v 2.0](https://marketplace.visualstudio.com/items/redhat.vscode-community-server-connector/license)
* [Server Connector](https://marketplace.visualstudio.com/items?itemName=redhat.vscode-server-connector) (for Red Hat Servers, e.g. Wildfly) - [Eclipse Public License - v 2.0](https://marketplace.visualstudio.com/items/redhat.vscode-server-connector/license)
* [Extension Pack for MicroProfile](https://marketplace.visualstudio.com/items?itemName=MicroProfile-Community.vscode-microprofile-pack) - [Apache License 2.0](https://marketplace.visualstudio.com/items/MicroProfile-Community.vscode-microprofile-pack/license)
    * [Tools for MicroProfile](https://marketplace.visualstudio.com/items?itemName=redhat.vscode-microprofile) - [Apache License 2.0](https://marketplace.visualstudio.com/items/redhat.vscode-microprofile/license)
    * [MicroProfile Starter](https://marketplace.visualstudio.com/items?itemName=MicroProfile-Community.mp-starter-vscode-ext) - [Apache License 2.0](https://marketplace.visualstudio.com/items/MicroProfile-Community.mp-starter-vscode-ext/license)
    * [Generator for MicroProfile Rest Client](https://marketplace.visualstudio.com/items?itemName=MicroProfile-Community.mp-rest-client-generator-vscode-ext) - [Eclipse Public License - v 2.0](https://marketplace.visualstudio.com/items/MicroProfile-Community.mp-rest-client-generator-vscode-ext/license)
* [Quarkus](https://marketplace.visualstudio.com/items?itemName=redhat.vscode-quarkus) - [Apache License 2.0](https://marketplace.visualstudio.com/items/redhat.vscode-quarkus/license)
* [CheckStyle](https://marketplace.visualstudio.com/items?itemName=shengchen.vscode-checkstyle) - [LGPL-3.0 License](https://marketplace.visualstudio.com/items/shengchen.vscode-checkstyle/license)
* [SonarLint](https://marketplace.visualstudio.com/items?itemName=SonarSource.sonarlint-vscode) - [LGPL-3.0 License](https://marketplace.visualstudio.com/items/SonarSource.sonarlint-vscode/license)
* [Lombok Annotations Support for VS Code](https://marketplace.visualstudio.com/items?itemName=GabrielBB.vscode-lombok) - [MIT License](https://marketplace.visualstudio.com/items/GabrielBB.vscode-lombok/license)
* [Java P3C Checker](https://marketplace.visualstudio.com/items?itemName=Rectcircle.vscode-p3c) - [MIT License](https://marketplace.visualstudio.com/items/Rectcircle.vscode-p3c/license)
* [Java Decompiler](https://marketplace.visualstudio.com/items?itemName=dgileadi.java-decompiler) - æ— å¼€æºè®¸å¯è¯
* [Java Properties](https://marketplace.visualstudio.com/items?itemName=ithildir.java-properties) - [MIT License](https://marketplace.visualstudio.com/items/ithildir.java-properties/license)

æœ¬æ–‡å°†ä»‹ç»åœ¨ä½¿ç”¨ VSCode å¼€å‘ Java é¡¹ç›®æ—¶ï¼Œå¦‚ä¸Šæ‰©å±•æä¾›æä¾›äº†é‚£äº›èƒ½åŠ›ã€ä»¥åŠæä¾›äº†é‚£äº›é…ç½®é¡¹ã€‚

## ç‰¹æ€§é€Ÿè§ˆ

* å¸®åŠ©ä¸­å¿ƒ
* JDK é…ç½®
* é¡¹ç›®ç®¡ç†
* æ„å»ºå·¥å…·
* ä»£ç æµè§ˆå’Œç¼–è¾‘ï¼ˆè‡ªåŠ¨å®Œæˆã€ä»£ç ç‰‡æ®µã€ç¬¦å·æœç´¢ã€è°ƒè½¬å®šä¹‰ã€æŸ¥æ‰¾å¼•ç”¨ã€æŸ¥æ‰¾å®ç°ã€è°ƒç”¨å±‚æ¬¡ã€ç±»å‹å±‚æ¬¡ï¼‰
* é‡æ„ã€ä»£ç ç”Ÿæˆå’Œå¿«é€Ÿä¿®å¤
* æ ¼å¼åŒ–å’Œ Lint
* è¿è¡Œå’Œè°ƒè¯•
* æµ‹è¯•
* æ¡†æ¶æ”¯æŒ
    * Java EE Server
    * Spring Boot
    * Quarkus å’Œ MicroProfile
    * Lombok

## å¿«é€Ÿå¼€å§‹

> [VSCode Docs - Language Java](https://code.visualstudio.com/docs/languages/java#_install-visual-studio-code-for-java)

* æœªå®‰è£…è¿‡ VSCode / JDK çš„è®¾å¤‡å¯ä»¥ç‚¹å‡»ä¸‹æ–¹é“¾æ¥ä¸€é”®å®‰è£…ï¼ŒVSCodeã€JDK å’Œ Java VSCode æ‰©å±•åŒ…
    * [Install the Coding Pack for Java - Windows](https://aka.ms/vscode-java-installer-win)
    * [Install the Coding Pack for Java - macOS](https://aka.ms/vscode-java-installer-mac)
* æ‰‹åŠ¨å®‰è£…
    * å®‰è£… JDK 11 +ï¼Œå‚è§ [jdk.java.net](https://jdk.java.net/)
    * [å®‰è£… VSCode](https://code.visualstudio.com/download)
    * æ‰“å¼€ VSCodeï¼Œå®‰è£… [Extension Pack for Java](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack) æ‰©å±•åŒ…
* ä½¿ç”¨ VSCode æ‰“å¼€ä¸€ä¸ª Maven / Gradle é¡¹ç›®
* Enjoy it!

## ä½¿ç”¨æŒ‡å—

### å¸®åŠ©ä¸­å¿ƒ

> ç‰¹æ€§æä¾›æ‰©å±•ï¼š[Extension Pack for Java](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack) ï¼ˆv0.20.0ï¼‰

VSCode Java æä¾›äº†ä¸€ä¸ªå¥½ç”¨çš„å¯è§†åŒ–å¸®åŠ©ä¸­å¿ƒï¼Œé€šè¿‡ `>Java: help center` å‘½ä»¤å¯ä»¥è¿›å…¥ã€‚è¯¥é¡µé¢æä¾›ï¼š

* åˆ›å»ºæˆ–æ‰“å¼€ä¸€ä¸ªé¡¹ç›®
* æ‰“å¼€ Java Tour
* General æ ‡ç­¾é¡µï¼Œæä¾›ä¸€äº›å¸¸ç”¨çš„ç¯å¢ƒè¡Œç®¡çš„é…ç½®
* Spring æ ‡ç­¾é¡µï¼Œæä¾›ä¸€äº›å…³äº Spring çš„ä¸€äº›é…ç½®
* Student æ ‡ç­¾é¡µï¼Œæä¾›ä¸€äº›æ•™å­¦èµ„æ–™

### JDK é…ç½®

VSCode Java æ”¯æŒ Java 1.5 åˆ° Java 17 ç‰ˆæœ¬çš„ JDKã€‚

åœ¨ VSCode Java ä¸­ï¼Œ JDK è·¯å¾„çš„æŸ¥æ‰¾è§„åˆ™ä¸ºï¼š

* `java.jdt.ls.java.home` é…ç½®é¡¹
* `java.home` (deprecated, use java.jdt.ls.java.home instead)
* `JDK_HOME` ç¯å¢ƒå˜é‡
* `JAVA_HOME` ç¯å¢ƒå˜é‡
* `PATH` ç¯å¢ƒå˜é‡ï¼ˆè·¯å¾„åº”ä»¥åŒ…å« bin æ–‡ä»¶å¤¹çš„çˆ¶æ–‡ä»¶å¤¹ç»“å°¾ã€‚ç¤ºä¾‹è·¯å¾„ï¼šå¦‚æœ `/usr/lib/jvm/java-11/bin` ä¸­å­˜åœ¨ binï¼Œåˆ™ä½¿ç”¨ `/usr/lib/jvm/java-11`ï¼‰

æ­¤ JDK å°†ç”¨äºå¯åŠ¨ Java Language Serverã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œå°†ç”¨äºç¼–è¯‘é¡¹ç›®ã€‚

å¦‚æœéœ€è¦é’ˆå¯¹ä¸åŒçš„ JDK ç‰ˆæœ¬ç¼–è¯‘é¡¹ç›®ï¼Œå»ºè®®æ‚¨åœ¨ç”¨æˆ·è®¾ç½®ä¸­é…ç½® `java.configuration.runtimes` å±æ€§ï¼Œä¾‹å¦‚ï¼š

```json
{
    "java.configuration.runtimes": [
        {
            "name": "JavaSE-1.8",
            "path": "/path/to/jdk-8",
        },
        {
            "name": "JavaSE-11",
            "path": "/path/to/jdk-11",
        },
        {
            "name": "JavaSE-14",
            "path": "/path/to/jdk-14",
            "default": true // æ‰“å¼€ç‹¬ç«‹ Java æ–‡ä»¶æ—¶å°†ä½¿ç”¨é»˜è®¤è¿è¡Œæ—¶ã€‚
        },
    ]
}
```

âš  å¯¹äºé€šç”¨ç‰ˆæœ¬ï¼Œä»…ä»…åœ¨ `java.configuration.runtimes` ä¸­å®šä¹‰ JavaSE-11 æ˜¯ä¸è¶³ä»¥è®© vscode-java å¯åŠ¨çš„ï¼Œjava.jdt.ls.java.homeï¼ˆæˆ–è€…å®ƒçš„ä»»ä½•æ›¿ä»£ç¯å¢ƒå˜é‡ï¼‰ä»ç„¶éœ€è¦æŒ‡å‘ä¸€ä¸ªæœ‰æ•ˆçš„ JDK 11 ä½ç½®ã€‚

æ›´å¤šå‚è§ï¼š[Wiki](https://github.com/redhat-developer/vscode-java/wiki/JDK-Requirements)

### é¡¹ç›®ç®¡ç†

> [VSCode Docs - Java - Project Manager](https://code.visualstudio.com/docs/java/java-project)
>
> ç‰¹æ€§æä¾›æ‰©å±•ï¼š[Project Manager for Java](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-dependency) ï¼ˆv0.18.9ï¼‰ å’Œ [Extension Pack for Java](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack) ï¼ˆv0.20.0ï¼‰

#### æ”¯æŒçš„é¡¹ç›®ç±»å‹

VSCode Java æ”¯æŒå¦‚ä¸‹å‡ ç§ç±»å‹çš„ Java é¡¹ç›®

* æ— æ„å»ºå·¥å…·çš„é¡¹ç›®
* Eclipse é¡¹ç›®
* Maven é¡¹ç›®
* Gradle é¡¹ç›®

#### Project View

æ‰“å¼€ä¸€ä¸ª Java é¡¹ç›®åï¼Œåœ¨ Explorer è§†å›¾ï¼Œå¯ä»¥çœ‹åˆ° Java Projects è§†å›¾ã€‚

* åœ¨è¯¥è§†å›¾ï¼Œæ˜¯ä¸€ä¸ªæ ‘ç»“æ„ï¼Œæ ‘çš„é¡¶å±‚æ˜¯æ‰“å¼€çš„å·¥ä½œç©ºé—´åŒ…å«çš„é¡¹ç›®ï¼Œæ¯ä¸ªé¡¹ç›®åŒ…å«å¦‚ä¸‹å†…å®¹
    * é¡¹ç›®æºç 
    * JDK æºç 
    * ä¾èµ–çš„ Jar åŒ…åŠå…¶æºç 

![image](/image/vscode/java/projectmanager-overview.png)

åœ¨å³ä¸Šè§’çš„å·¥å…·æŒ‰é’®æ æä¾›äº†ä¸€äº›å…³äºé¡¹ç›®å¿«æ·æ“ä½œã€‚

* `+` å¿«é€Ÿåˆ›å»ºä¸€ä¸ª Java é¡¹ç›®ï¼ˆå‘½ä»¤ä¸ºï¼š`>Java: Create Java Project...`ï¼‰

![image](/image/vscode/java/projectmanager-createproject.png)

* `|->` å¯¼å‡ºåˆ° Jar æ–‡ä»¶ï¼Œå¿«é€Ÿåˆ›å»ºä¸€ä¸ª Jar åŒ… ï¼ˆå‘½ä»¤ä¸ºï¼š`>java: export jar...`ï¼‰

![image](/image/vscode/java/exportjar.gif)

* `ğŸ”„` åˆ·æ–°é¡¹ç›®è§†å›¾ ï¼ˆå‘½ä»¤ä¸ºï¼š`>java: refresh`ï¼‰
* `æŠ˜å ` æŠ˜å æ ‘
* `...` æº¢å‡ºèœå•
    * åˆ‡æ¢å±‚çº§å±•ç¤º/å¹³è¡Œå±•ç¤º
    * æ‰“å¼€/å…³é—­ç¼–è¾‘å™¨å…³è”
    * æ„å»ºå·¥ä½œç©ºé—´
    * æ¸…ç†å·¥ä½œç©ºé—´ ï¼ˆå‘½ä»¤ä¸ºï¼š`>java: clean java language server workspace`ï¼‰
    * Configure Java Runtime ï¼ˆå‘½ä»¤ä¸ºï¼š`>Java: Configure Java Runtime`ï¼‰
    * Configure Classpath ï¼ˆå‘½ä»¤ä¸ºï¼š`>Java: Configure classpath`ï¼‰

![image](/image/vscode/java/overflow-button.png)

å³é”®é¡¹ç›®/åŒ…/ç±»å‹ï¼Œå¯ä»¥å‘¼å‡ºä¸Šä¸‹æ–‡èœå•ã€‚

![image](/image/vscode/java/context-menu.png)

#### é…ç½®é¡¹ç›®è¿è¡Œæ—¶

é€šè¿‡ `java.configuration.runtimes` é…ç½®é¡¹å¯ä»¥é…ç½® VSCode Java çš„è¿è¡Œæ—¶ã€‚

```json
{
    "java.configuration.runtimes": [
        {
            "name": "JavaSE-1.8",
            "path": "/usr/local/jdk1.8.0_201"
        },
        {
            "name": "JavaSE-11",
            "path": "/usr/local/jdk-11.0.3",
            "sources" : "/usr/local/jdk-11.0.3/lib/src.zip",
            "javadoc" : "https://docs.oracle.com/en/java/javase/11/docs/api",
            "default":  true
        },
        {
            "name": "JavaSE-12",
            "path": "/usr/local/jdk-12.0.2"
        },
        {
            "name": "JavaSE-13",
            "path": "/usr/local/jdk-13"
        }
    ]
}
```

å…¶ä¸­ `"default": true` è¡¨ç¤ºè¯¥ JDK å°†ä½œä¸ºæ— æ„å»ºå·¥å…·é¡¹ç›®çš„é»˜è®¤è¿è¡Œæ—¶ã€‚

å¦å¤–ï¼Œå¯ä»¥é€šè¿‡ `>Java: Configure Java Runtime` å‘½ä»¤æŸ¥çœ‹å’Œé…ç½®å½“å‰é¡¹ç›®è¿è¡Œæ—¶ã€‚

![image](/image/vscode/java/configure-project-runtime.png)

é€šè¿‡ `>Java: Install New JDK` å¯ä»¥å¿«é€Ÿä¸‹è½½ä¸€ä¸ª JDK çš„å®‰è£…åŒ…ã€‚

![image](/image/vscode/java/download-jdk.png)

é€šè¿‡ `>Java: Configure Classpath` å¯ä»¥å¿«é€Ÿé…ç½®æ— æ„å»ºå·¥å…·çš„é¡¹ç›®çš„ Classpathï¼Œå¦‚æœæ˜¯ Maven æˆ–è€… Gradle çš„é¡¹ç›®ï¼Œåˆ™æ˜¯åªè¯»çš„ã€‚

![image](/image/vscode/java/configure-classpath.png)

å½“ VSCode Java å‡ºç°é—®é¢˜æ—¶ï¼Œå¯ä»¥é€šè¿‡ `>Java: Clean Java Language Server Workspace` é‡æ–°åˆå§‹åŒ–å·¥ä½œç©ºé—´ã€‚

#### ä¾èµ–ç®¡ç†

* é’ˆå¯¹ Maven é¡¹ç›®ï¼Œå¯ä»¥ç‚¹å‡»ä¸‹å›¾ `+` å¿«é€Ÿæœç´¢ä¾èµ–ï¼Œå¹¶æ·»åŠ åˆ° pom.xml æ–‡ä»¶ä¸­

![image](/image/vscode/java/add-maven-dependency.png)

* é’ˆå¯¹ æ— æ„å»ºå·¥å…·é¡¹ç›®ï¼Œå¯ä»¥ç‚¹å‡»ä¸‹å›¾ `+` / `-` å¿«é€Ÿæ·»åŠ åˆ é™¤æœ¬åœ°ç£ç›˜çš„ jar åŒ…åˆ° classpath ä¸­ï¼ˆæœ¬è´¨ä¸Šæ˜¯ä¿®æ”¹ `java.project.referencedLibraries` é…ç½®é¡¹ï¼‰

![image](/image/vscode/java/manage-referenced-libraries.png)

* å…³äº `java.project.referencedLibraries` é…ç½®é¡¹çš„ä¸€äº›ä¾‹å­

```json
// ç®€å•æ·»åŠ 
"java.project.referencedLibraries": [
    "library/**/*.jar",
    "/home/username/lib/foo.jar"
]
// åŒ…æ‹¬å’Œæ’é™¤ä»¥åŠæºä»£ç è·¯å¾„
"java.project.referencedLibraries": {
    "include": [
        "library/**/*.jar",
        "/home/username/lib/foo.jar"
    ],
    "exclude": [
        "library/sources/**"
    ],
    "sources": {
        "library/bar.jar": "library/sources/bar-src.jar"
    }
}
```

#### è¯­è¨€æœåŠ¡å™¨æ¨¡å¼

é€šè¿‡ `java.server.launchMode` å¯ä»¥é…ç½® VSCode Java çš„è¯­è¨€æœåŠ¡å™¨çš„æ¨¡å¼

* `Hybrid` æ··åˆæ¨¡å¼ ï¼ˆé»˜è®¤ï¼‰å…ˆä»¥è½»é‡çº§æ¨¡å¼æ‰“å¼€å·¥ä½œåŒºã€‚å¦‚æœæ‚¨çš„å·¥ä½œåŒºåŒ…å«æœªè§£æçš„ Java é¡¹ç›®ï¼Œç³»ç»Ÿå°†è¯¢é—®æ‚¨æ˜¯å¦åˆ‡æ¢åˆ°æ ‡å‡†æ¨¡å¼ã€‚å¦‚æœé€‰æ‹© â€œç¨åâ€ï¼Œå®ƒå°†ä¿æŒè½»é‡æ¨¡å¼ã€‚æ‚¨å¯ä»¥å•å‡»çŠ¶æ€æ ä¸Šçš„æœåŠ¡å™¨æ¨¡å¼å›¾æ ‡æ‰‹åŠ¨åˆ‡æ¢åˆ°æ ‡å‡†æ¨¡å¼ã€‚
* `Standard` æ ‡å‡†æ¨¡å¼
* `LightWeight` è½»é‡çº§æ¨¡å¼ï¼ˆæ¶ˆè€—èµ„æºå°ï¼Œä½†æ˜¯èƒ½åŠ›æœ‰é™ï¼‰

#### çŠ¶æ€æ 

çŠ¶æ€æ ä½¿ç”¨ä¸åŒçš„å›¾æ ‡æŒ‡ç¤ºå½“å‰å·¥ä½œåŒºå¤„äºå“ªç§æ¨¡å¼ã€‚

* ğŸš€ - è½»é‡çº§æ¨¡å¼
* ğŸ”„ - æ­£åœ¨ä»¥æ ‡å‡†æ¨¡å¼æ‰“å¼€çš„å·¥ä½œåŒº
* ğŸ‘ - æ ‡å‡†æ¨¡å¼

åˆ‡æ¢åˆ°æ ‡å‡†æ¨¡å¼æ–¹æ³•å¦‚ä¸‹ï¼š

![image](/image/vscode/java/switch-to-standard.gif)

### æ„å»ºå·¥å…·

#### æ— æ„å»ºå·¥å…·é¡¹ç›®

VSCode Java æ”¯æŒæ— æ„å»ºå·¥å…·çš„ Java é¡¹ç›®ï¼Œä¸‹æ–¹æœ‰ä¸€ä¸ªä¾‹å­ï¼ˆé€šè¿‡ `>Java: Create Java Project...` å‘½ä»¤ï¼‰

```
.
â”œâ”€â”€ .vscode
â”‚   â””â”€â”€ settings.json
â”œâ”€â”€ README.md
â”œâ”€â”€ bin
â”‚   â””â”€â”€ App.class
â”œâ”€â”€ lib
â””â”€â”€ src
    â””â”€â”€ App.java
```

å…¶ä¸­ `.vscode/settings.json` å†…å®¹ä¸º

```json
{
    "java.project.sourcePaths": ["src"],
    "java.project.outputPath": "bin"
}
```

#### Maven

> [VSCode Docs - Java - Build Tools](https://code.visualstudio.com/docs/java/java-build#_maven)
>
> ç‰¹æ€§æä¾›æ‰©å±•ï¼š[Maven for Java](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-maven) ï¼ˆv0.34.2ï¼‰

* ä½¿ç”¨ VSCode ç›´æ¥æ‰“å¼€åŒ…å« pom.xml çš„ç›®å½•ï¼Œå³å¯å¯¼å…¥ Maven é¡¹ç›®ï¼Œå¹¶æ¿€æ´» Maven æ‰©å±•
* Maven é¡¹ç›®ä¸­å¯ä»¥é”®å…¥æœªåœ¨ POM ä¸­å£°æ˜çš„ä¾èµ–çš„ç¬¦å·æ—¶ï¼ŒHover åœ¨ç¬¦å·ä¸Šï¼Œç‚¹å‡» Resolve unknown type å¯ä»¥å¿«é€Ÿæœç´¢å¹¶å°†ä¾èµ–æ·»åŠ åˆ° POM ä¸­

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/maven-resolve-unknown-type.mp4" type="video/mp4">
</video>

* æä¾›å¯¹ `pom.xml` çš„æ™ºèƒ½æç¤ºå’Œæ£€æŸ¥

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/maven-pom-editing.mp4" type="video/mp4">
</video>

* Effective POM ï¼ˆåˆå¹¶çˆ¶ POMï¼Œå«ä¹‰å‚è§ï¼š[stackoverflow](https://stackoverflow.com/questions/26114768/what-are-the-difference-between-pom-xml-and-effective-pom-in-apache-maven/26114868)ï¼‰

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/maven-effective-pom.mp4" type="video/mp4">
</video>

* é€šè¿‡ `>Maven: Add a Dependency` å‘½ä»¤ï¼Œäº¤äº’å¼çš„æœç´¢æ·»åŠ ä¾èµ–ï¼ˆåŒæ ·å¯ä»¥åŒé€šè¿‡ Java Projects è§†å›¾ï¼ŒMaven Dependencies å­æ ‘ `+` å·æŒ‰é’®æ·»åŠ ä¾èµ–ï¼‰

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/maven-add-dependency.mp4" type="video/mp4">
</video>

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/maven-add-dependency-2.mp4" type="video/mp4">
</video>

* é€šè¿‡èµ„æºç®¡ç†å™¨ä¾§è¾¹æ  -> Maven åŒºåŸŸå³å‡»é¡¹ç›®ï¼Œå¯ä»¥å¿«é€Ÿå±•ç¤ºä¾èµ–æ ‘è§†å›¾

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/maven-dependency-tree.mp4" type="video/mp4">
</video>

* æ‰§è¡Œ Maven å‘½ä»¤å’Œç›®æ ‡ï¼šèµ„æºç®¡ç†å™¨ä¾§è¾¹æ  -> Maven åŒºåŸŸï¼Œå³å‡»é¡¹ç›®ï¼Œå¯ä»¥è¿è¡Œç›®æ ‡å’Œå‘½ä»¤

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/maven-run.mp4" type="video/mp4">
</video>

* å¯ä»¥é€šè¿‡å¦‚ä¸‹æ–¹å¼æŸ¥çœ‹ maven å‘½ä»¤çš„æ‰§è¡Œå†å²
    * `>Maven: History` å‘½ä»¤
    * èµ„æºç®¡ç†å™¨ä¾§è¾¹æ  -> Maven åŒºåŸŸï¼Œå³å‡»é¡¹ç›®ï¼Œé€‰æ‹© History èœå•é¡¹

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/maven-history.mp4" type="video/mp4">
</video>

* é€šè¿‡ `maven.terminal.favorites` é…ç½®é¡¹å¯ä»¥å®šä¹‰ä¸€äº›å¸¸ç”¨ maven ç›®æ ‡å’Œå‘½ä»¤çš„å¿«æ·æ–¹å¼ã€‚ç„¶ååœ¨ï¼Œèµ„æºç®¡ç†å™¨ä¾§è¾¹æ  -> Maven åŒºåŸŸï¼Œå³å‡»é¡¹ç›®ï¼Œé€‰æ‹© Favorites... èœå•é¡¹

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/maven-favorite-command.mp4" type="video/mp4">
</video>

* èµ„æºç®¡ç†å™¨ä¾§è¾¹æ  -> Maven åŒºåŸŸï¼Œå±•å¼€é¡¹ç›®ï¼Œé€‰æ‹© Pluginï¼Œå³å¯æµè§ˆæ‰€æœ‰ Plugin æä¾›çš„ç›®æ ‡

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/maven-plugin-goal.mp4" type="video/mp4">
</video>

* è°ƒè¯•é¡¹ç›®ä¸­ Maven Pluginï¼Œå‘å·¥ä½œç©ºé—´åŒæ—¶åŠ å…¥æ™®é€šé¡¹ç›®å’Œ Maven Plugin é¡¹ç›®ï¼Œåœ¨ Maven Plugin é¡¹ç›®ä¸­æ·»åŠ æ–­ç‚¹ï¼Œèµ„æºç®¡ç†å™¨ä¾§è¾¹æ  -> Maven åŒºåŸŸï¼Œå±•å¼€é¡¹ç›®ï¼Œé€‰æ‹© Pluginï¼Œå³å‡»é€‰æ‹© Debugï¼Œå³å¯å¿«é€Ÿ Debug Maven Plugin é¡¹ç›®

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/debug-maven-plugin-goals.mp4" type="video/mp4">
</video>

* æ ¹æ® Maven Archetype åˆ›å»ºä¸€ä¸ª Java é¡¹ç›®ï¼Œå…¥å£æœ‰å¦‚ä¸‹å‡ ä¸ª
    * èµ„æºç®¡ç†å™¨ä¾§è¾¹æ  -> Maven åŒºåŸŸï¼Œæ ‡é¢˜åŒºåŸŸçš„ `+` å·
    * é€šè¿‡ `>Java: Create Java Project` å‘½å
    * èµ„æºç®¡ç†å™¨åœ¨ä¸€ä¸ªç›®å½•ä¸Šå³å‡»ï¼Œé€‰æ‹©ï¼š `Create Maven Project` èœå•é¡¹

![image](/image/vscode/java/create-maven-project.png)

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/maven-archetype-command.mp4" type="video/mp4">
</video>

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/maven-archetype-folder.mp4" type="video/mp4">
</video>

#### Gradle

> [VSCode Docs - Java - Build Tools](https://code.visualstudio.com/docs/java/java-build#_gradle)
>
> ç‰¹æ€§æä¾›æ‰©å±•ï¼š[Gradle for Java](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-gradle)ï¼ˆv3.9.0ï¼‰

æš‚ä¸åŒ…æ‹¬ Androidã€‚è¯¥æ‰©å±•ä¸º Gradle æ„å»ºæä¾›äº†ä¸€ä¸ªå¯è§†åŒ–ç•Œé¢ï¼ˆä¾§è¾¹æ ï¼‰ï¼Œå¯ä»¥ä½¿ç”¨æ­¤ç•Œé¢æŸ¥çœ‹ Gradle ä»»åŠ¡å’Œé¡¹ç›®ä¾èµ–é¡¹ï¼Œæˆ–è€…å°† Gradle ä»»åŠ¡ä½œä¸º VSCode Task è¿è¡Œã€‚è¯¥æ‰©å±•è¿˜æä¾›äº†æ›´å¥½çš„ Gradle æ„å»ºé…ç½®æ–‡ä»¶ç¼–å†™ä½“éªŒï¼ŒåŒ…æ‹¬è¯­æ³•çªå‡ºæ˜¾ç¤ºã€é”™è¯¯æŠ¥å‘Šå’Œè‡ªåŠ¨å®Œæˆã€‚

* ä½¿ç”¨ VSCode ç›´æ¥æ‰“å¼€åŒ…å« Gradle é…ç½®æ–‡ä»¶çš„ç›®å½•ï¼Œå³å¯å¯¼å…¥ Gradle é¡¹ç›®ï¼Œå¹¶æ¿€æ´» Gradle æ‰©å±•ï¼Œç„¶åå³å¯ç‚¹å‡» Activity Bar çš„ Gradle å›¾æ ‡æ‰“å¼€ Gradle ç•Œé¢

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/gradle-tasks.mp4" type="video/mp4">
</video>

* Gradle ç•Œé¢æä¾›äº† Pinned Task è§†å›¾ã€‚é€šè¿‡åœ¨ Gradle ç•Œé¢æµè§ˆè§†å›¾ï¼Œå³å‡»ä¸€ä¸ªä»»åŠ¡ï¼Œé€‰æ‹© Pin Task èœå•é¡¹å³å¯ Pin Task åˆ° Pinned Task è§†å›¾ä¸­

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/gradle-pinned-recent-tasks.mp4" type="video/mp4">
</video>

* Gradle é¡µé¢é€šè¿‡æµè§ˆè§†å›¾å¯ä»¥æŸ¥çœ‹ä¾èµ–é¡¹

![image](/image/vscode/java/gradle-dependencies.png)

* Gradle é¡µé¢ è¿˜å¯ä»¥ç®¡ç† Gradle Deamon

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/gradle-daemons.mp4" type="video/mp4">
</video>

* Gradle æ‰©å±•æä¾›äº† gradle é…ç½®æ–‡ä»¶çš„è¯­æ³•é«˜äº®ã€å¤§çº²ã€é”™è¯¯æŠ¥å‘Šã€æ™ºèƒ½æç¤ºï¼ˆåŒ…æ‹¬ä¾èµ–å’Œç‰ˆæœ¬åˆ—è¡¨çš„æç¤ºï¼‰çš„èƒ½åŠ›

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/gradle-auto-completion.mp4" type="video/mp4">
</video>

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/gradle-dependency-completion.mp4" type="video/mp4">
</video>

æ›´å¤šå‚è§ï¼š[Wiki](https://github.com/redhat-developer/vscode-java/wiki/Gradle-Support)

#### Bazel

å‚è§ï¼š[Bazel](https://marketplace.visualstudio.com/items?itemName=BazelBuild.vscode-bazel)

### ä»£ç æµè§ˆå’Œç¼–è¾‘

> [VSCode Docs - Java - Navigate and Edit](https://code.visualstudio.com/docs/java/java-editing)
>
> ç‰¹æ€§æä¾›æ‰©å±•ï¼š[Language Support for Javaâ„¢ by Red Hat](https://marketplace.visualstudio.com/items?itemName=redhat.java) ï¼ˆv1.2.0ï¼‰ å’Œ [Visual Studio IntelliCode](https://marketplace.visualstudio.com/items?itemName=VisualStudioExptTeam.vscodeintellicode) ï¼ˆv1.2.15ï¼‰

* æœç´¢**å·¥ä½œç©ºé—´**ç±»/å‡½æ•°/å˜é‡ç­‰ç¬¦å·ï¼š `âŒ˜T` æˆ– `âŒ˜P` è¾“å…¥ `#`

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/search-in-workspace.mp4" type="video/mp4">
</video>

* æœç´¢**å½“å‰æ–‡ä»¶**ç±»/å‡½æ•°/å˜é‡ç­‰ç¬¦å·ï¼š `âŒ˜P` è¾“å…¥ `@`

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/search-in-file.mp4" type="video/mp4">
</video>

* Peek å®šä¹‰ï¼š `âŒ¥F12` æˆ– å…‰æ ‡å¤„å³é”®ç‚¹é€‰ `Peek Definition`
* è·³è½¬åˆ°å®šä¹‰ï¼š `F12` æˆ– å…‰æ ‡å¤„å³é”®ç‚¹é€‰ `Go to Definition`ï¼Œ
* å¿«é€Ÿè·³è½¬åˆ°å‡½æ•°çš„çˆ¶ç±»å®ç°ï¼š é¼ æ ‡ hover åœ¨å‡½æ•°ä¸Šï¼Œç‚¹å‡» Go to Super Implementation

![image](/image/vscode/java/goto-super.png)

* Peek è°ƒç”¨å±‚æ¬¡ï¼š å‡½æ•°ä¸Šå³å‡»ç‚¹é€‰ `Peek > Peek Call Hierarchy`

![image](/image/vscode/java/call-hierarchy.png)

* å±•ç¤ºè°ƒç”¨å±‚æ¬¡ï¼š å‡½æ•°ä¸Šå³å‡»ç‚¹é€‰ `Show Call Hierarchy`

![image](/image/vscode/java/call-hierarchy.gif)

* ç±»å‹å±‚æ¬¡ï¼š ç±»å’Œæ¥å£ä¸Šå³å‡»ç‚¹é€‰ `Show Type Hierarchy`

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/type-hierarchy.mp4" type="video/mp4">
</video>

* é€šè¿‡å‘½ä»¤æŸ¥çœ‹ç±»å‹å…³ç³»ä¿¡æ¯
    * `>Types: Show supertypes` æŸ¥æ‰¾å½“å‰ç±»å‹çš„çˆ¶ç±»å’Œå®ç°çš„æ¥å£
    * `>Types: Show subtypes` æŸ¥æ‰¾å½“å‰ç±»å‹çš„çš„å­ç±»æˆ–è€…å®ç°
    * `>Types: Show type hierarchy` æŸ¥çœ‹ç±»å‹å±‚æ¬¡

* æŠ˜å 

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/folding-range.mp4" type="video/mp4">
</video>

* æ™ºèƒ½é€‰æ‹©
    * æ‰©å¤§é€‰æ‹©èŒƒå›´ï¼š `âŒƒâ‡§âŒ˜â†’`
    * ç¼©å°é€‰æ‹©èŒƒå›´ï¼š `âŒƒâ‡§âŒ˜â†`

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/smart-selection.mp4" type="video/mp4">
</video>

* è¯­ä¹‰åŒ–é«˜äº®ï¼ˆæ ¹æ®è¯­ä¹‰ä¿¡æ¯æ›´å¥½çš„å¯¹ä»£ç å•è¯è¿›è¡Œé«˜äº®ï¼‰ï¼Œæ›´å¤šå‚è§ [Wiki](https://github.com/redhat-developer/vscode-java/wiki/Semantic-Highlighting)

![image](/image/vscode/java/semantic-highlighting.png)

* æœç´¢ Spring boot ç›¸å…³ç¬¦å·ï¼š `âŒ˜P` è¾“å…¥ ï¼ˆæ›´å¤šå‚è§ [Spring](#Spring)ï¼‰
    * `@/` å±•ç¤ºæ‰€æœ‰å·²å®šä¹‰çš„è¯·æ±‚æ˜ å°„ï¼ˆæ˜ å°„è·¯å¾„ã€è¯·æ±‚æ–¹æ³•ã€æºä»£ç ä½ç½®ï¼‰
    * `@+` å±•ç¤ºæ‰€æœ‰å®šä¹‰çš„ bean ï¼ˆbean å, bean ç±»å‹, æºä»£ç ä½ç½®ï¼‰
    * `@>` shows all functions (prototype implementation)
    * `@` å±•ç¤ºä»£ç ä¸­çš„æ‰€æœ‰ Spring æ³¨è§£

![image](/image/vscode/java/spring-navigation.png)

* è‡ªåŠ¨å®Œæˆ

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/code-editing.mp4" type="video/mp4">
</video>

* å¿«é€Ÿä¿®å¤

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/quick-fix.mp4" type="video/mp4">
</video>

* æ™ºèƒ½æ„ŸçŸ¥ï¼ˆèƒ½æä¾› Eclipse åŒæ ·çº§åˆ«çš„æ™ºèƒ½æç¤ºï¼Œé…åˆ [Visual Studio IntelliCode](https://marketplace.visualstudio.com/items?itemName=VisualStudioExptTeam.vscodeintellicode)ï¼Œå¯ä»¥æä¾›åŸºäº AI çš„å¯¹æ™ºèƒ½æç¤ºè¿›è¡Œæ’åºçš„èƒ½åŠ›ï¼Œä¼˜å…ˆå±•ç¤ºå¯èƒ½æ€§æ›´å¤§çš„é€‰é¡¹ï¼‰

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/intellicode.mp4" type="video/mp4">
</video>

* åˆ›å»ºæ–‡ä»¶

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/create-new-file.mp4" type="video/mp4">
</video>

* ä»£ç ç‰‡æ®µ

![image](/image/vscode/java/code-snippet.png)

### é‡æ„ã€ä»£ç ç”Ÿæˆå’Œå¿«é€Ÿä¿®å¤

> [VSCode Docs - Java - Refactoring](https://code.visualstudio.com/docs/java/java-refactoring)
>
> ç‰¹æ€§æä¾›æ‰©å±•ï¼š[Language Support for Javaâ„¢ by Red Hat](https://marketplace.visualstudio.com/items?itemName=redhat.java) ï¼ˆv1.2.0ï¼‰

#### é‡æ„

ç¼–è¾‘å™¨å³é”®ï¼Œé€‰æ‹© Refactor... ï¼ˆé‡æ„ï¼‰

* èµ‹å€¼ç»™å˜é‡

```java
// Before
Arrays.asList("apple", "lemon", "banana");
// After
List<String> fruits = Arrays.asList("apple", "lemon", "banana");
```

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/assign-to-field.mp4" type="video/mp4">
</video>

* åŒ¿åç±»è½¬æ¢ä¸ºå†…éƒ¨ç±»

```java
// Before
public class Clazz {
  public Interface method() {
    final boolean isValid = true;
    return new Interface() {
      public boolean isValid() {
        return isValid;
      }
    };
  }
}
// After
public class Clazz {
  private final class MyInterface extends Interface {
    private final boolean isValid;

    private MyInterface(boolean isValid) {
      this.isValid = isValid;
    }

    public boolean isValid() {
      return isValid;
    }
  }

  public Interface method() {
    final boolean isValid = true;
    return new MyInterface(isValid);
  }
}
```

* è½¬æ¢ä¸ºåŒ¿åç±»åˆ›å»º

```java
// Before
public void method() {
  Runnable runnable = () -> {
    // do something
  };
}
// After
public void method() {
  Runnable runnable = new Runnable() {
    @Override
    public void run() {
      // do something
    }
  };
}
```

* è½¬æ¢ä¸ºå¢å¼ºçš„ for å¾ªç¯

```java
// Before
public void order(String[] books) {
  for (int i = 0; i < books.length; i++) {
    // do something
  }
}
// After
public void order(String[] books) {
  for (String book : books) {
    // do something
  }
}
```

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/convert-for-loop.mp4" type="video/mp4">
</video>

* è½¬æ¢ä¸º lambda è¡¨è¾¾å¼

```java
// Before
public void method() {
  Runnable runnable = new Runnable(){
    @Override
    public void run() {
      // do something
    }
  };
}
// After
public void method() {
    Runnable runnable = () -> {
      // do something
    };
  }
```

* è½¬æ¢ä¸ºé™æ€å¯¼å…¥

```java
// Before
import org.junit.Assert;
// ...
public void test() {
  Assert.assertEquals(expected, actual);
}
// After
import static org.junit.Assert.assertEquals;
// ...
public void test() {
  assertEquals(expected, actual);
}
```

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/convert-static-imports.mp4" type="video/mp4">
</video>

* æå–åˆ°å¸¸æ•°

```java
// Before
public double getArea(double r) {
  return 3.14 * r * r;
}
// After
private static final double PI = 3.14;

public double getArea(double r) {
  return PI * r * r;
}
```

* æå–åˆ°å­—æ®µ

```java
// Before
class Square {
  public void calculateArea() {
    int height = 1;
    int width = 2;
    int area = height * width;
  }
}
// After
class Square {
  private int area;

  public void calculateArea() {
    int height = 1;
    int width = 2;
    area = height * width;
  }
}
```

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/extract-field.mp4" type="video/mp4">
</video>

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/convert-field.mp4" type="video/mp4">
</video>

* æå–åˆ°æ–¹æ³•

```java
// Before
public void method() {
  int height = 1;
  int width = 2;
  int area = height * width;
}
// After
public void method() {
  int height = 1;
  int width = 2;
  int area = getArea(height, width);
}

private int getArea(int height, int width) {
  return height * width;
}
```

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/refactor.mp4" type="video/mp4">
</video>

* æå–åˆ°å‡½æ•°å±€éƒ¨å˜é‡

```java
// Before
public void method() {
  if (platform.equalsIgnoreCase("MAC")) {
    // do something
  }
}
// After
public void method() {
  boolean isMac = platform.equalsIgnoreCase("MAC");
  if (isMac) {
    // do something
  }
}
```

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/extract-local-variable.mp4" type="video/mp4">
</video>

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/extract-rename.mp4" type="video/mp4">
</video>

* å†…è”å¸¸é‡

```java
// Before
private static final double PI = 3.14;

public double getArea(double r) {
  return PI * r * r;
}
// After
private static final double PI = 3.14;

public double getArea(double r) {
  return 3.14 * r * r;
}
```

* å†…è”å±€éƒ¨å˜é‡

```java
// Before
public void method() {
  boolean isMac = platform.equalsIgnoreCase("MAC");
  if (isMac) {
    // do something
  }
}
// After
public void method() {
  if (platform.equalsIgnoreCase("MAC")) {
    // do something
  }
}
```

* å†…è”æ–¹æ³•

```java
// Before
public void method() {
  int height = 1;
  int width = 2;
  int area = getArea(height, width);
}

private int getArea(int height, int width) {
  return height * width;
}
// After
public void method() {
  int height = 1;
  int width = 2;
  int area = height * width;
}
```

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/inline.mp4" type="video/mp4">
</video>

* æ¡ä»¶ç¿»è½¬

```java
// Before
public void method(int value) {
  if (value > 5 && value < 15) {
    // do something
  }
}
// After
public void method(int value) {
  if (value <= 5 || value >= 15) {
    // do something
  }
}

```

* åè½¬ bool è¡¨è¾¾å¼å±€éƒ¨å˜é‡

```java
// Before
public void method(int value) {
  boolean valid = value > 5 && value < 15;
}
// After
public void method(int value) {
  boolean notValid = value <= 5 || value >= 15;
}
```

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/invert-variable.mp4" type="video/mp4">
</video>

* ç§»åŠ¨
    * å°†ç±»ç§»åŠ¨åˆ°å¦ä¸€ä¸ªåŒ…
    * å°†é™æ€æˆ–å®ä¾‹æ–¹æ³•ç§»åŠ¨åˆ°å¦ä¸€ä¸ªç±»
    * å°†å†…éƒ¨ç±»ç§»åŠ¨åˆ°æ–°æ–‡ä»¶

```java
// Before
public class Office {
  public static void main(String[] args) {
    print();
  }

  public static void print() {
    System.out.println("This is printer");
  }

  static class Printer { }
}
// After
public class Office {
  public static void main(String[] args) {
    Printer.print();
  }

  static class Printer {
    public static void print() {
      System.out.println("This is printer");
    }
  }
}
```

å¦‚æœé™æ€æ–¹æ³•åœ¨å¦ä¸€ä¸ªç±»ä¸­æ¯”åœ¨è‡ªå·±çš„ç±»ä¸­ä½¿ç”¨å¾—æ›´å¤šï¼Œåˆ™åœ¨é™æ€æ–¹æ³•ä¸Šç§»åŠ¨é‡æ„ã€‚

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/move-static-method.mp4" type="video/mp4">
</video>

å°†ä¸€ä¸ªç±»ç§»åŠ¨åˆ°å¦ä¸€ä¸ªåŒ…ã€‚ç›®å‰ï¼Œæ–‡ä»¶èµ„æºç®¡ç†å™¨ä¸æ”¯æŒç§»åŠ¨é‡æ„ã€‚

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/move-class.mp4" type="video/mp4">
</video>

å°†å†…éƒ¨ç±»ç§»åŠ¨åˆ°æ–°æ–‡ä»¶ã€‚

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/move-inner-type.mp4" type="video/mp4">
</video>

* é‡å‘½å `F2`

```java
// Before
public class Foo {
  // ...
}

public void myMethod() {
  Foo myClass = new Foo();
}
// After
public class Bar {
  // ...
}

public void myMethod() {
  Bar myClass = new Bar();
}
```

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/rename.mp4" type="video/mp4">
</video>

æ–‡ä»¶å¤¹å’Œæ–‡ä»¶çš„æ–‡ä»¶èµ„æºç®¡ç†å™¨ä¹Ÿæ”¯æŒé‡å‘½åé‡æ„ã€‚è¯·æ±‚æ›´æ”¹åï¼Œå°†æä¾›å—å½±å“æ–‡ä»¶çš„é¢„è§ˆï¼Œæ‚¨å¯ä»¥å†³å®šå¦‚ä½•åº”ç”¨è¿™äº›æ›´æ”¹ã€‚

![image](/image/vscode/java/rename-explorer.gif)

* å°†å…·ä½“çš„ç±»å‹æ›´æ”¹ä¸º var ç±»å‹

```java
// Before
String s = "";
// After
var s = "";
```

* å°† var ç±»å‹æ›´æ”¹ä¸ºå…·ä½“ç±»å‹

```java
// Before
var s = "";
// After
String s = "";
```

#### Source Actions

* ç”Ÿæˆæ„é€ å‡½æ•°

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/generate-constructor.mp4" type="video/mp4">
</video>

* ç”Ÿæˆå§”æ‰˜æ–¹æ³•ï¼ˆç”Ÿæˆå¯¹ç¯å¢ƒå˜é‡æ–¹æ³•çš„åŒ…è£…æ–¹æ³•ï¼‰

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/generate-delegate-methods.mp4" type="video/mp4">
</video>

* è¦†ç›–/å®ç°æ–¹æ³•

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/override-implement-methods.mp4" type="video/mp4">
</video>

* ç»„ç»‡å¯¼å…¥

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/resolve-ambiguous-imports.mp4" type="video/mp4">
</video>

* ç”Ÿæˆ Getters å’Œ Setters æ–¹æ³•

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/advancedgettersetter.mp4" type="video/mp4">
</video>

* ç”Ÿæˆ `hashCode()` å’Œ `equals()` æ–¹æ³•
    * å¦‚æœä½¿ç”¨çš„ Java 7+ï¼Œå¯ä»¥å°† `java.codeGeneration.hashCodeEquals.useJava7Objects` è®¾ç½®ä¸º `true` ä»¥ç”Ÿæˆè°ƒç”¨ Objects.hash å’Œ Objects.equals çš„è¾ƒçŸ­ä»£ç ã€‚
    * è¿˜å¯ä»¥å°† `java.codeGeneration.hashCodeEquals.useInstanceof` è®¾ç½®ä¸º `true` ä»¥ä½¿ç”¨ `instanceOf` è¿ç®—ç¬¦æ¥æ£€æŸ¥å¯¹è±¡ç±»å‹ï¼Œè€Œä¸æ˜¯è°ƒç”¨ `Object.getClass()`ã€‚

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/generate-hashcode-equals.mp4" type="video/mp4">
</video>

* ç”Ÿæˆ `toString()` æ–¹æ³•

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/generate-tostring.mp4" type="video/mp4">
</video>

* å°½å¯èƒ½å°†ä¿®é¥°ç¬¦æ›´æ”¹ä¸º final

```java
// Before
public class Clazz {
  public void method(int value) {
    boolean notValid = value > 5;
    if (notValid) {
      // do something
    }
  }
}
// After
public class Clazz {
  public void method(final int value) {
    final boolean notValid = value > 5;
    if (notValid) {
      // do something
    }
  }
}
```

#### å…¶ä»–

* ä¿®å¤ä¸å¯è®¿é—®çš„å¼•ç”¨

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/fix-non-access-reference.mp4" type="video/mp4">
</video>

* åˆ›å»ºä¸å­˜åœ¨çš„åŒ…

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/create-non-exist-package.mp4" type="video/mp4">
</video>

* æ›´å¤š
    * åˆ›å»ºæ— æ³•è§£å†³çš„çš„ç±»å‹
    * åˆ é™¤ final ä¿®é¥°ç¬¦
    * åˆ é™¤ä¸å¿…è¦çš„å¼ºåˆ¶è½¬æ¢
    * åˆ é™¤å†—ä½™æ¥å£
    * åœ¨ switch è¯­å¥ä¸­æ·»åŠ ç¼ºå°‘çš„ case æ ‡ç­¾
    * Jump to definition on break/continue
    * Correct access to static elements

#### ä»£ç ç”Ÿæˆæ¨¡æ¿é…ç½®

`cmd +,` æ‰“å¼€è®¾ç½®ï¼Œè¾“å…¥ `java.template` è¿‡æ»¤é…ç½®ï¼Œå³å¯çœ‹åˆ°ç›¸å…³é…ç½®ã€‚

æ¨¡æ¿é…ç½®æ”¯æŒçš„å˜é‡åˆ—è¡¨å‚è§ï¼š[Wiki](https://github.com/redhat-developer/vscode-java/wiki/Predefined-Variables-for-Java-Template-Snippets)

### æ ¼å¼åŒ–å’Œ Lint

> [VSCode Docs - Java - Linting](https://code.visualstudio.com/docs/java/java-linting)
>
> ç‰¹æ€§æä¾›æ‰©å±•ï¼š[Language Support for Javaâ„¢ by Red Hat](https://marketplace.visualstudio.com/items?itemName=redhat.java) ï¼ˆv1.2.0ï¼‰ã€[Checkstyle for Java](https://marketplace.visualstudio.com/items?itemName=shengchen.vscode-checkstyle) ï¼ˆv1.4.1ï¼‰ã€[SonarLint](https://marketplace.visualstudio.com/items?itemName=SonarSource.sonarlint-vscode) ï¼ˆv3.1.0ï¼‰ã€[Extension Pack for Java](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack) ï¼ˆv0.20.0ï¼‰

#### æ ¼å¼åŒ–

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/formatting.mp4" type="video/mp4">
</video>

* é€šè¿‡ `"java.format.settings.url"` é…ç½®é¡¹ï¼Œé…ç½® format profile (Eclipse Schema)

```json
"java.format.settings.url": "https://raw.githubusercontent.com/google/styleguide/gh-pages/eclipse-java-google-style.xml",
"java.format.settings.profile": "GoogleStyle",
```

* é€šè¿‡ `>Java: Open Java Formatter Settings with Preview` å‘½ä»¤å¯ä»¥æ‹‰èµ· [Extension Pack for Java](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack)  æ‰©å±•æä¾›äº†å¯è§†åŒ–çš„ VSCode æ ¼å¼åŒ–é…ç½®é¡µé¢ã€‚ï¼ˆå°†åˆ›å»ºé…ç½®æ–‡ä»¶ä½äº `.vscode/java-formatter.xml` æ–‡ä»¶ï¼‰ï¼Œå¯ä»¥å®æ—¶é¢„è§ˆé…ç½®æ•ˆæœã€‚æ”¯æŒ `cmd + z` æ’¤é”€ä¸Šä¸€æ­¥çš„æ›´æ”¹ï¼Œé€šè¿‡ `cmd + s` ä¿å­˜é…ç½®åˆ°æ–‡ä»¶ä¸­ã€‚

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/formatting-editing.mp4" type="video/mp4">
</video>

æ›´å¤šå‚è§ï¼š[Wiki](https://github.com/redhat-developer/vscode-java/wiki/Formatter-settings)

#### Lint

Java æ¯”è¾ƒä¸»æµçš„ Lint å·¥å…·åœ¨ VSCode ä¸Šæœ‰

* [Checkstyle for Java](https://marketplace.visualstudio.com/items?itemName=shengchen.vscode-checkstyle)
* [SonarLint](https://marketplace.visualstudio.com/items?itemName=SonarSource.sonarlint-vscode)
* [Java P3C Checker](https://marketplace.visualstudio.com/items?itemName=Rectcircle.vscode-p3c)

ç»†èŠ‚å‚è§ï¼š

* [VSCode Docs - Java - Linting](https://code.visualstudio.com/docs/java/java-linting#_sonarlint)
* [Java ä»£ç é£æ ¼æ ·å¼æ£€æŸ¥è½åœ°](/posts/java-code-style-check-implement)

### è¿è¡Œå’Œè°ƒè¯•

> [VSCode Docs - Java - Debugging](https://code.visualstudio.com/docs/java/java-debugging)
>
> ç‰¹æ€§æä¾›æ‰©å±•ï¼š[Debugger for Java](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-debug) ï¼ˆv0.38.0ï¼‰

#### é…ç½®æ–‡ä»¶

é»˜è®¤æƒ…å†µä¸‹ï¼Œè°ƒè¯•å™¨å°†é€šè¿‡è‡ªåŠ¨æŸ¥æ‰¾ä¸»ç±»å¹¶åœ¨å†…å­˜ä¸­ç”Ÿæˆé»˜è®¤å¯åŠ¨é…ç½®æ¥å¯åŠ¨æ‚¨çš„åº”ç”¨ç¨‹åºï¼Œå¼€ç®±å³ç”¨åœ°è¿è¡Œã€‚å¦‚æœæƒ³è‡ªå®šä¹‰å’Œä¿ç•™çš„å¯åŠ¨é…ç½®ï¼Œæ‚¨å¯ä»¥åœ¨è¿è¡Œå’Œè°ƒè¯•è§†å›¾ä¸­é€‰æ‹©åˆ›å»º launch.json æ–‡ä»¶é“¾æ¥ã€‚

launch.json æ–‡ä»¶ä½äºå·¥ä½œåŒºï¼ˆé¡¹ç›®æ ¹æ–‡ä»¶å¤¹ï¼‰ä¸­çš„ .vscode æ–‡ä»¶å¤¹ä¸­ã€‚

#### å¯åŠ¨è°ƒè¯•å’Œæˆ–è¿è¡Œ

å¯ä»¥é€šè¿‡å¦‚ä¸‹ä½ç½®å¯åŠ¨è¿è¡Œå’Œè°ƒè¯•ã€‚

* ä»£ç æ–‡ä»¶ main å‡½æ•°ä¸Šæ–¹çš„ `Run | Debug` [CodeLens](https://code.visualstudio.com/blogs/2017/02/12/code-lens-roundup)

![image](/image/vscode/java/java-codelens.png)

* ä»ç¼–è¾‘å™¨èœå•è¿è¡Œï¼Œä»ç¼–è¾‘å™¨é¡¶éƒ¨æ ‡é¢˜æ ä¸­é€‰æ‹© Run Java æˆ– Debug Java èœå•ã€‚

![image](/image/vscode/java/run-menu.png)

* æŒ‰ F5 å¿«æ·é”®å¯åŠ¨ï¼Œæ›´å¤šå‚è§ï¼š[Debugging in VS Code](https://code.visualstudio.com/docs/editor/debugging)

#### è°ƒè¯•å’Œè¿è¡Œå•æ–‡ä»¶

é™¤äº†æ”¯æŒè°ƒè¯•ç”±æ„å»ºå·¥å…·ç®¡ç†çš„ Java é¡¹ç›®å¤–ï¼ŒVS Code è¿˜æ”¯æŒåœ¨æ²¡æœ‰ä»»ä½•é¡¹ç›®çš„æƒ…å†µä¸‹è°ƒè¯•å•ä¸ª Java æ–‡ä»¶ã€‚

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/single-file-debugging.mp4" type="video/mp4">
</video>

#### æ ‡å‡†è¾“å…¥

é»˜è®¤ Java è°ƒè¯•ä¸æ”¯æŒè¯»å–æ ‡å‡†è¾“å…¥ï¼Œå¦‚æœéœ€è¦è¯»å–æ ‡å‡†è¾“å…¥ï¼Œå¯ä»¥é€šè¿‡ `java.debug.settings.console` é…ç½®é¡¹æˆ–è€… `launch.json` çš„ `console` å­—æ®µæ¥è®¾ç½®ã€‚

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/launch-in-terminal.mp4" type="video/mp4">
</video>

#### æ–­ç‚¹

VSCode Java æ”¯æŒå¦‚ä¸‹æ–­ç‚¹

* å¸¸è§„è¡Œæ–­ç‚¹ï¼Œé€šè¿‡ F9 æˆ–è€…ç‚¹å‡»æºä»£ç ç¼–è¾‘å™¨å·¦ä¾§çš„è£…è®¢æ æ·»åŠ 
* æ¡ä»¶æ–­ç‚¹ï¼Œå³å‡»æºä»£ç ç¼–è¾‘å™¨å·¦ä¾§çš„è£…è®¢æ ï¼Œé€‰æ‹©æ¡ä»¶æ–­ç‚¹

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/conditional-bp.mp4" type="video/mp4">
</video>

* æ•°æ®æ”¹å˜æ–­ç‚¹ï¼Œå½“å˜é‡æ›´æ”¹å…¶å€¼æ—¶ï¼Œæ‚¨å¯ä»¥è®©è°ƒè¯•å™¨ä¸­æ–­ã€‚æ•°æ®æ–­ç‚¹åªèƒ½åœ¨è°ƒè¯•ä¼šè¯ä¸­è®¾ç½®ã€‚è¿™æ„å‘³ç€æ‚¨éœ€è¦å¯åŠ¨åº”ç”¨ç¨‹åºå¹¶é¦–å…ˆåœ¨å¸¸è§„æ–­ç‚¹å¤„ä¸­æ–­ã€‚ç„¶åï¼Œæ‚¨å¯ä»¥åœ¨ VARIABLES è§†å›¾ä¸­é€‰æ‹©ä¸€ä¸ªå­—æ®µå¹¶è®¾ç½®ä¸€ä¸ªæ•°æ®æ–­ç‚¹ã€‚

![image](/image/vscode/java/data-breakpoint.png)

* Logpointsï¼ŒJava è°ƒè¯•å™¨ä¹Ÿæ”¯æŒæ—¥å¿—ç‚¹ã€‚æ—¥å¿—ç‚¹å…è®¸åœ¨ä¸ç¼–è¾‘ä»£ç çš„æƒ…å†µä¸‹å°†è¾“å‡ºå‘é€åˆ°è°ƒè¯•æ§åˆ¶å°ã€‚å®ƒä»¬ä¸æ–­ç‚¹ä¸åŒï¼Œå› ä¸ºå®ƒä»¬ä¸ä¼šåœæ­¢åº”ç”¨ç¨‹åºçš„æ‰§è¡Œæµç¨‹ã€‚

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/logpoints.mp4" type="video/mp4">
</video>

#### è¡¨è¾¾å¼æ‰§è¡Œ

åœ¨ Watch è§†å›¾å¯ä»¥è§‚å¯Ÿå•ä¸ªè¡¨è¾¾å¼ æˆ–è€… Debug Console è§†å›¾å¯ä»¥æ‰§è¡Œä¸€äº›å‡½æ•°ã€‚

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/expression-evaluation.mp4" type="video/mp4">
</video>

#### ä»£ç çƒ­æ›¿æ¢

è°ƒè¯•å™¨æ”¯æŒçš„å¦ä¸€ä¸ªé«˜çº§åŠŸèƒ½æ˜¯â€œçƒ­ä»£ç â€æ›¿æ¢ã€‚çƒ­ä»£ç æ›¿æ¢ (HCR) æ˜¯ä¸€ç§è°ƒè¯•æŠ€æœ¯ï¼Œå…¶ä¸­ Java è°ƒè¯•å™¨é€šè¿‡è°ƒè¯•é€šé“å°†ç±»æ›´æ”¹ä¼ è¾“åˆ°å¦ä¸€ä¸ª Java è™šæ‹Ÿæœº (JVM)ã€‚ HCR ä¿ƒè¿›å®éªŒå¼€å‘å¹¶ä¿ƒè¿›è¿­ä»£è¯•é”™ç¼–ç ã€‚ä½¿ç”¨è¿™ä¸ªæ–°åŠŸèƒ½ï¼Œæ‚¨å¯ä»¥åœ¨å¼€å‘ç¯å¢ƒä¸­å¯åŠ¨è°ƒè¯•ä¼šè¯å¹¶æ›´æ”¹ Java æ–‡ä»¶ï¼Œå¹¶ä¸”è°ƒè¯•å™¨å°†æ›¿æ¢æ­£åœ¨è¿è¡Œçš„ JVM ä¸­çš„ä»£ç ã€‚ä¸éœ€è¦é‡æ–°å¯åŠ¨ï¼Œè¿™å°±æ˜¯å®ƒè¢«ç§°ä¸ºâ€œçƒ­â€çš„åŸå› ã€‚ä¸‹é¢æ˜¯ä¸€ä¸ªè¯´æ˜å¦‚ä½•åœ¨ VS Code ä¸­å°† HCR ä¸ Debugger for Java ä¸€èµ·ä½¿ç”¨ã€‚

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/hcr.mp4" type="video/mp4">
</video>

æ‚¨å¯ä»¥ä½¿ç”¨è°ƒè¯•è®¾ç½® `java.debug.settings.hotCodeReplace` æ¥æ§åˆ¶å¦‚ä½•è§¦å‘çƒ­ä»£ç æ›¿æ¢ã€‚å¯èƒ½çš„è®¾ç½®å€¼ä¸ºï¼š

* `manual` - å•å‡»å·¥å…·æ ä»¥åº”ç”¨æ›´æ”¹ï¼ˆé»˜è®¤ï¼‰ã€‚
* `auto` - ç¼–è¯‘åè‡ªåŠ¨åº”ç”¨æ›´æ”¹ã€‚
* `never` - ç¦ç”¨çƒ­ä»£ç æ›¿æ¢ã€‚

#### æ­¥è¿›è¿‡æ»¤

æ‰©å±•æ”¯æŒåˆ†æ­¥è¿‡æ»¤å™¨ï¼Œä»¥è¿‡æ»¤æ‰æ‚¨åœ¨è°ƒè¯•æ—¶ä¸å¸Œæœ›çœ‹åˆ°æˆ–å•æ­¥æ‰§è¡Œçš„ç±»å‹ã€‚ä½¿ç”¨æ­¤åŠŸèƒ½ï¼Œæ‚¨å¯ä»¥å°†åŒ…é…ç½®ä¸ºåœ¨æ‚¨çš„ launch.json ä¸­è¿›è¡Œè¿‡æ»¤ï¼ˆ`stepFilters` å­—æ®µï¼‰ï¼Œä»¥ä¾¿åœ¨æ‚¨é€æ­¥æ‰§è¡Œæ—¶è·³è¿‡å®ƒä»¬ã€‚

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/step-filter.mp4" type="video/mp4">
</video>

#### è°ƒè¯•ä¼šè¯é…ç½®

æœ‰è®¸å¤šé€‰é¡¹å’Œè®¾ç½®å¯ç”¨äºé…ç½®è°ƒè¯•å™¨ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨å¯åŠ¨é€‰é¡¹å¯ä»¥è½»æ¾é…ç½® JVM å‚æ•°å’Œç¯å¢ƒå˜é‡ã€‚

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/launch-configuration.mp4" type="video/mp4">
</video>

é…ç½®çš„è¯¦ç»†è¯´æ˜å¯ä»¥å‚è§ï¼š[Github æ–‡æ¡£](https://github.com/microsoft/vscode-java-debug/blob/main/Configuration.md)

##### Launch

* `mainClass` (required) - ç±»å…¨é™å®šå (for example `[java module name/]com.xyz.MainApp`) æˆ–è€… Java Main æ–‡ä»¶è·¯å¾„ã€‚
* `args` - ä¼ é€’ç»™è¿›ç¨‹çš„å‘½ä»¤è¡Œå‚æ•°ã€‚å¯ä»¥ä½¿ç”¨ `"${command:SpecifyProgramArgs}"` è°ƒç”¨ä¸€ä¸ªå¤–éƒ¨å‘½ä»¤ï¼Œå¹¶å°†å…¶è¿”å›å€¼ä½œä¸ºå‚æ•°ä¼ é€’ç»™è¿›ç¨‹ã€‚
* `sourcePaths` - ç¨‹åºçš„é¢å¤–æºç›®å½•ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè°ƒè¯•å™¨ä»é¡¹ç›®è®¾ç½®ä¸­æŸ¥æ‰¾æºä»£ç ã€‚æ­¤é€‰é¡¹å…è®¸è°ƒè¯•å™¨åœ¨é¢å¤–çš„ç›®å½•ä¸­æŸ¥æ‰¾æºä»£ç ã€‚
* `modulePaths` - ç”¨äºå¯åŠ¨ JVM çš„æ¨¡å—è·¯å¾„ã€‚å¦‚æœæœªæŒ‡å®šï¼Œè°ƒè¯•å™¨å°†è‡ªåŠ¨ä»å½“å‰é¡¹ç›®è§£æã€‚
* `classPaths` - ç”¨äºå¯åŠ¨ JVM çš„ç±»è·¯å¾„ã€‚å¦‚æœæœªæŒ‡å®šï¼Œè°ƒè¯•å™¨å°†è‡ªåŠ¨ä»å½“å‰é¡¹ç›®è§£æã€‚
* `encoding` - JVM çš„ `file.encoding`è®¾ç½®ã€‚å¦‚æœæœªæŒ‡å®šï¼Œå°†ä½¿ç”¨ "UTF-8"ã€‚å¯èƒ½çš„å€¼å¯ä»¥åœ¨ [Supported Encodings](https://docs.oracle.com/javase/8/docs/technotes/guides/intl/encoding.doc.html) ä¸­æ‰¾åˆ°ã€‚
* `vmArgs` - JVM çš„é¢å¤–é€‰é¡¹å’Œç³»ç»Ÿå±æ€§ï¼ˆä¾‹å¦‚ `-Xms<size>` `-Xmx<size>` `-D<name>=<value>`ï¼‰ï¼Œå®ƒæ¥å—å­—ç¬¦ä¸²æˆ–å­—ç¬¦ä¸²æ•°ç»„ã€‚
* `projectName` - è°ƒè¯•å™¨åœ¨å…¶ä¸­æœç´¢ç±»çš„é¦–é€‰é¡¹ç›®ã€‚ä¸åŒçš„é¡¹ç›®ä¸­å¯èƒ½å­˜åœ¨é‡å¤çš„ç±»åã€‚å½“è°ƒè¯•å™¨åœ¨å¯åŠ¨ç¨‹åºæ—¶æŸ¥æ‰¾æŒ‡å®šçš„ä¸»ç±»æ—¶ï¼Œæ­¤è®¾ç½®ä¹Ÿæœ‰æ•ˆã€‚å½“å·¥ä½œåŒºå…·æœ‰å¤šä¸ª Java é¡¹ç›®æ—¶ï¼Œè¿™æ˜¯å¿…éœ€çš„ï¼Œå¦åˆ™è¡¨è¾¾å¼è®¡ç®—å’Œæ¡ä»¶æ–­ç‚¹å¯èƒ½ä¸èµ·ä½œç”¨ã€‚
* `cwd` - ç¨‹åºçš„å·¥ä½œç›®å½•ã€‚é»˜è®¤ä¸º `${workspaceFolder}`ã€‚
* `env` - ç¨‹åºçš„é¢å¤–ç¯å¢ƒå˜é‡ã€‚
* `envFile` - åŒ…å«ç¯å¢ƒå˜é‡å®šä¹‰çš„æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ã€‚
* `stopOnEntry` - å¯åŠ¨åè‡ªåŠ¨æš‚åœç¨‹åºã€‚
* `console` - ç”¨äºå¯åŠ¨ç¨‹åºçš„æŒ‡å®šæ§åˆ¶å°ã€‚å¦‚æœæœªæŒ‡å®šï¼Œè¯·ä½¿ç”¨ç”± `java.debug.settings.console` ç”¨æˆ·è®¾ç½®æŒ‡å®šçš„æ§åˆ¶å°ã€‚
    * `internalConsole` - VS ä»£ç è°ƒè¯•æ§åˆ¶å°ï¼ˆä¸æ”¯æŒè¾“å…¥æµï¼‰ã€‚
    * `integratedTerminal` - VS ä»£ç é›†æˆç»ˆç«¯ã€‚
    * `externalTerminal` - å¯åœ¨ç”¨æˆ·è®¾ç½®ä¸­é…ç½®çš„å¤–éƒ¨ç»ˆç«¯ã€‚
* `shortenCommandLine` - å½“é¡¹ç›®å…·æœ‰è¾ƒé•¿çš„ç±»è·¯å¾„æˆ–è¾ƒå¤§çš„ VM å‚æ•°æ—¶ï¼Œç”¨äºå¯åŠ¨ç¨‹åºçš„å‘½ä»¤è¡Œå¯èƒ½ä¼šè¶…è¿‡æ“ä½œç³»ç»Ÿå…è®¸çš„æœ€å¤§å‘½ä»¤è¡Œå­—ç¬¦ä¸²é™åˆ¶ã€‚æ­¤é…ç½®é¡¹ç›®æä¾›äº†å¤šç§ç¼©çŸ­å‘½ä»¤è¡Œçš„æ–¹æ³•ã€‚é»˜è®¤ä¸º `auto`ã€‚
    * `none` - ä½¿ç”¨æ ‡å‡†å‘½ä»¤è¡Œ `java [options] classname [args]` å¯åŠ¨ç¨‹åºã€‚.
    * `jarmanifest` - å°†ç±»è·¯å¾„å‚æ•°ç”Ÿæˆåˆ°ä¸´æ—¶ç±»è·¯å¾„.jaræ–‡ä»¶ï¼Œå¹¶ä½¿ç”¨å‘½ä»¤è¡Œ `java -cp classpath.jarç±»å [args]` å¯åŠ¨ç¨‹åºã€‚
    * `argfile` - ç”Ÿæˆä¸´æ—¶å‚æ•°æ–‡ä»¶çš„ç±»è·¯å¾„å‚æ•°ï¼Œå¹¶ä½¿ç”¨å‘½ä»¤è¡Œ `java @argfile [args]` å¯åŠ¨ç¨‹åºã€‚æ­¤å€¼ä»…é€‚ç”¨äº Java 9 åŠæ›´é«˜ç‰ˆæœ¬ã€‚
    * `auto` - è‡ªåŠ¨æ£€æµ‹å‘½ä»¤è¡Œé•¿åº¦å¹¶ç¡®å®šæ˜¯å¦é€šè¿‡é€‚å½“çš„æ–¹æ³•ç¼©çŸ­å‘½ä»¤è¡Œã€‚
* `stepFilters` - å•æ­¥æ‰§è¡Œæ—¶è·³è¿‡æŒ‡å®šçš„ç±»æˆ–æ–¹æ³•ã€‚
    * `classNameFilters` - \[**Deprecated** - replaced by `skipClasses`] å•æ­¥æ‰§è¡Œæ—¶è·³è¿‡æŒ‡å®šçš„ç±»ã€‚ç±»ååº”æ˜¯å®Œå…¨é™å®šçš„ã€‚æ”¯æŒé€šé…ç¬¦ã€‚
    * `skipClasses` - å•æ­¥æ‰§è¡Œæ—¶è·³è¿‡æŒ‡å®šçš„ç±»ã€‚æ‚¨å¯ä»¥ä½¿ç”¨å†…ç½®å˜é‡ï¼ˆå¦‚ `$JDK` å’Œ `$Libraries`ï¼‰è·³è¿‡ä¸€ç»„ç±»ï¼Œæˆ–æ·»åŠ ç‰¹å®šçš„ç±»åè¡¨è¾¾å¼ï¼Œä¾‹å¦‚ `java.*`, `*.Foo`.
    * `skipSynthetics` - æ­¥è¿›æ—¶è·³è¿‡åˆæˆæ–¹æ³•ï¼ˆç¼–è¯‘å™¨ç”Ÿæˆï¼‰ã€‚
    * `skipStaticInitializers` - å•æ­¥æ‰§è¡Œæ—¶è·³è¿‡é™æ€åˆå§‹å€¼è®¾å®šé¡¹æ–¹æ³•ã€‚
    * `skipConstructors` - å•æ­¥æ‰§è¡Œæ—¶è·³è¿‡æ„é€ å‡½æ•°æ–¹æ³•ã€‚

##### Attach

* `hostName` (required) - è¿œç¨‹è°ƒè¯•å™¨çš„ä¸»æœºåæˆ– IP åœ°å€ã€‚
* `port` (required) - è¿œç¨‹è°ƒè¯•å™¨çš„è°ƒè¯•ç«¯å£ã€‚
* `processId` - ä½¿ç”¨è¿›ç¨‹é€‰å–å™¨é€‰æ‹©è¦é™„åŠ çš„è¿›ç¨‹ï¼Œæˆ–ä½¿ç”¨è¿›ç¨‹ ID ä½œä¸ºæ•´æ•°ã€‚
    * `${command:PickJavaProcess}` - ä½¿ç”¨è¿›ç¨‹é€‰å–å™¨é€‰æ‹©è¦é™„åŠ çš„è¿›ç¨‹ï¼ˆé»˜è®¤ï¼‰ã€‚
    * An integer PID - é™„åŠ åˆ°æŒ‡å®šçš„æœ¬åœ°è¿›ç¨‹ã€‚
* `timeout` - é‡æ–°è¿æ¥å‰çš„è¶…æ—¶å€¼ï¼ˆä»¥æ¯«ç§’ä¸ºå•ä½ï¼‰ï¼ˆé»˜è®¤å€¼ä¸º 30000 æ¯«ç§’ï¼‰ã€‚
* `sourcePaths` - ç¨‹åºçš„é¢å¤–æºç›®å½•ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œè°ƒè¯•å™¨ä»é¡¹ç›®è®¾ç½®ä¸­æŸ¥æ‰¾æºä»£ç ã€‚æ­¤é€‰é¡¹å…è®¸è°ƒè¯•å™¨åœ¨é¢å¤–çš„ç›®å½•ä¸­æŸ¥æ‰¾æºä»£ç ã€‚
* `projectName` - è°ƒè¯•å™¨åœ¨å…¶ä¸­æœç´¢ç±»çš„é¦–é€‰é¡¹ç›®ã€‚ä¸åŒçš„é¡¹ç›®ä¸­å¯èƒ½å­˜åœ¨é‡å¤çš„ç±»åã€‚å½“è°ƒè¯•å™¨åœ¨å¯åŠ¨ç¨‹åºæ—¶æŸ¥æ‰¾æŒ‡å®šçš„ä¸»ç±»æ—¶ï¼Œæ­¤è®¾ç½®ä¹Ÿæœ‰æ•ˆã€‚å½“å·¥ä½œåŒºå…·æœ‰å¤šä¸ª Java é¡¹ç›®æ—¶ï¼Œè¿™æ˜¯å¿…éœ€çš„ï¼Œå¦åˆ™è¡¨è¾¾å¼è®¡ç®—å’Œæ¡ä»¶æ–­ç‚¹å¯èƒ½ä¸èµ·ä½œç”¨ã€‚
* `stepFilters` - å•æ­¥æ‰§è¡Œæ—¶è·³è¿‡æŒ‡å®šçš„ç±»æˆ–æ–¹æ³•ã€‚
    * `classNameFilters` - \[**Deprecated** - replaced by `skipClasses`] å•æ­¥æ‰§è¡Œæ—¶è·³è¿‡æŒ‡å®šçš„ç±»ã€‚ç±»ååº”æ˜¯å®Œå…¨é™å®šçš„ã€‚æ”¯æŒé€šé…ç¬¦ã€‚
    * `skipClasses` - å•æ­¥æ‰§è¡Œæ—¶è·³è¿‡æŒ‡å®šçš„ç±»ã€‚æ‚¨å¯ä»¥ä½¿ç”¨å†…ç½®å˜é‡ï¼ˆå¦‚ `$JDK` å’Œ `$Libraries`ï¼‰è·³è¿‡ä¸€ç»„ç±»ï¼Œæˆ–æ·»åŠ ç‰¹å®šçš„ç±»åè¡¨è¾¾å¼ï¼Œä¾‹å¦‚ `java.*`, `*.Foo`.
    * `skipSynthetics` - æ­¥è¿›æ—¶è·³è¿‡åˆæˆæ–¹æ³•ï¼ˆç¼–è¯‘å™¨ç”Ÿæˆï¼‰ã€‚
    * `skipStaticInitializers` - å•æ­¥æ‰§è¡Œæ—¶è·³è¿‡é™æ€åˆå§‹å€¼è®¾å®šé¡¹æ–¹æ³•ã€‚
    * `skipConstructors` - å•æ­¥æ‰§è¡Œæ—¶è·³è¿‡æ„é€ å‡½æ•°æ–¹æ³•ã€‚

#### è°ƒè¯•ç›¸å…³ç”¨æˆ·è®¾ç½®

* `java.debug.logLevel`: å‘é€åˆ° VS Code çš„è°ƒè¯•å™¨æ—¥å¿—çš„æœ€ä½çº§åˆ«é»˜è®¤ä¸º `warn`.
* `java.debug.settings.showHex`: åœ¨ **Variables** è§†å›¾ä¸­ä»¥åå…­è¿›åˆ¶æ ¼å¼æ˜¾ç¤ºæ•°å­—ï¼Œé»˜è®¤ä¸º `false`ã€‚
* `java.debug.settings.showStaticVariables`: åœ¨ **Variables** è§†å›¾ä¸­æ˜¾ç¤ºé™æ€å˜é‡ï¼Œé»˜è®¤ä¸º `false`ã€‚
* `java.debug.settings.showQualifiedNames`: åœ¨ **Variables** è§†å›¾ä¸­æ˜¾ç¤ºå®Œå…¨é™å®šçš„ç±»åï¼Œé»˜è®¤ä¸º  `false`ã€‚
* `java.debug.settings.showLogicalStructure`: åœ¨ **Variables** è§†å›¾ä¸­æ˜¾ç¤ºé›†åˆå’Œæ˜ å°„ç±»çš„é€»è¾‘ç»“æ„ï¼Œé»˜è®¤ä¸º `true`ã€‚
* `java.debug.settings.showToString`: åœ¨ **Variables** è§†å›¾ä¸­æ˜¾ç¤ºæ‰€æœ‰çš„è¦†ç›–äº† `toString` æ–¹æ³•çš„å®ä¾‹çš„ `toString()` çš„å€¼ï¼Œé»˜è®¤ä¸º `true`ã€‚
* `java.debug.settings.maxStringLength`: **Variables** æˆ– **Debug Console** è§†å›¾ä¸­æ˜¾ç¤ºçš„å­—ç¬¦ä¸²çš„æœ€å¤§é•¿åº¦ã€‚é•¿åº¦è¶…è¿‡æ­¤é™åˆ¶çš„å­—ç¬¦ä¸²å°†è¢«ä¿®å‰ªã€‚é»˜è®¤å€¼ä¸º `0`ï¼Œè¡¨ç¤ºä¸æ‰§è¡Œä»»ä½•ä¿®å‰ªã€‚
* `java.debug.settings.hotCodeReplace`: åœ¨è°ƒè¯•æœŸé—´é‡æ–°åŠ è½½æ›´æ”¹çš„ Java ç±»ï¼Œé»˜è®¤ä¸º `manual`ã€‚ ç¡®ä¿ [Java Language Support extension](https://github.com/redhat-developer/vscode-java) æ‰©å±•çš„ `java.autobuild.enabled` é…ç½®æ²¡æœ‰ç¦ç”¨ã€‚æ›´å¤šå‚è§ã€Šä»£ç çƒ­æ›¿æ¢ã€‹ç« èŠ‚ã€‚
    * manual - å•å‡»å·¥å…·æ ä»¥åº”ç”¨æ›´æ”¹ã€‚
    * auto - ç¼–è¯‘åè‡ªåŠ¨åº”ç”¨æ›´æ”¹ã€‚
    * never - ç¦ç”¨ã€‚
* `java.debug.settings.enableHotCodeReplace`: æ˜¯å¦å¯ç”¨ä»£ç çƒ­æ›¿æ¢ï¼Œé»˜è®¤ä¸º trueã€‚ç¡®ä¿ [Java Language Support extension](https://github.com/redhat-developer/vscode-java) æ‰©å±•çš„ `java.autobuild.enabled` é…ç½®æ²¡æœ‰ç¦ç”¨ã€‚æ›´å¤šå‚è§ã€Šä»£ç çƒ­æ›¿æ¢ã€‹ç« èŠ‚ã€‚
* `java.debug.settings.enableRunDebugCodeLens`: ä¸ºä¸»å…¥å£ç‚¹ä¸Šçš„è¿è¡Œå’Œè°ƒè¯•æŒ‰é’®å¯ç”¨ CodeLens æä¾›ç¨‹åºï¼Œé»˜è®¤ä¸º `true`.
* `java.debug.settings.forceBuildBeforeLaunch`: åœ¨å¯åŠ¨ java ç¨‹åºä¹‹å‰å¼ºåˆ¶æ„å»ºå·¥ä½œåŒºï¼Œé»˜è®¤ä¸º `true`ã€‚
* `java.debug.settings.console`: ç”¨äºå¯åŠ¨ Java ç¨‹åºçš„æŒ‡å®šæ§åˆ¶å°ï¼Œé»˜è®¤ä¸º `integratedTerminal`ã€‚å¦‚æœè¦ä¸ºç‰¹å®šè°ƒè¯•ä¼šè¯è‡ªå®šä¹‰æ§åˆ¶å°ï¼Œè¯·ä¿®æ”¹ `launch.json` ä¸­çš„ `console` é…ç½®ã€‚
    * `internalConsole` - VS ä»£ç è°ƒè¯•æ§åˆ¶å°ï¼ˆä¸æ”¯æŒè¾“å…¥æµï¼‰ã€‚
    * `integratedTerminal` - VS ä»£ç é›†æˆç»ˆç«¯ã€‚
    * `externalTerminal` - å¯åœ¨ç”¨æˆ·è®¾ç½®ä¸­é…ç½®çš„å¤–éƒ¨ç»ˆç«¯ã€‚
* `java.debug.settings.exceptionBreakpoint.skipClasses`: å‡ºç°å¼‚å¸¸æ—¶è·³è¿‡æŒ‡å®šçš„ç±»ã€‚æ‚¨å¯ä»¥ä½¿ç”¨å†…ç½®å˜é‡ï¼ˆå¦‚ `$JDK` å’Œ `$Libraries`ï¼‰è·³è¿‡ä¸€ç»„ç±»ï¼Œæˆ–æ·»åŠ ç‰¹å®šçš„ç±»åè¡¨è¾¾å¼ï¼Œä¾‹å¦‚ `java.*`ã€`*.Foo`ã€‚
* `java.debug.settings.stepping.skipClasses`: å•æ­¥æ‰§è¡Œæ—¶è·³è¿‡æŒ‡å®šçš„ç±»ã€‚æ‚¨å¯ä»¥ä½¿ç”¨å†…ç½®å˜é‡ï¼ˆå¦‚ `$JDK` å’Œ `$Libraries`ï¼‰è·³è¿‡ä¸€ç»„ç±»ï¼Œæˆ–æ·»åŠ ç‰¹å®šçš„ç±»åè¡¨è¾¾å¼ï¼Œä¾‹å¦‚ `java.*`ã€`*.Foo`ã€‚
* `java.debug.settings.stepping.skipSynthetics`: æ­¥è¿›æ—¶è·³è¿‡åˆæˆæ–¹æ³•ï¼ˆç¼–è¯‘å™¨ç”Ÿæˆçš„æ–¹æ³•ï¼‰ã€‚
* `java.debug.settings.stepping.skipStaticInitializers`: å•æ­¥æ‰§è¡Œæ—¶è·³è¿‡é™æ€åˆå§‹å€¼è®¾å®šé¡¹æ–¹æ³•ã€‚
* `java.debug.settings.stepping.skipConstructors`: å•æ­¥æ‰§è¡Œæ—¶è·³è¿‡æ„é€ å‡½æ•°æ–¹æ³•ã€‚
* `java.debug.settings.jdwp.limitOfVariablesPerJdwpRequest`: ä¸€ä¸ª JDWP è¯·æ±‚ä¸­å¯ä»¥è¯·æ±‚çš„æœ€å¤§å˜é‡æˆ–å­—æ®µæ•°ã€‚è¯¥å€¼è¶Šé«˜ï¼Œåœ¨å±•å¼€å˜é‡è§†å›¾æ—¶è¯·æ±‚è°ƒè¯•å¯¹è±¡çš„é¢‘ç‡å°±è¶Šä½ã€‚æ­¤å¤–ï¼Œè¾ƒå¤§çš„æ•°å­—ä¹Ÿå¯èƒ½å¯¼è‡´ JDWP è¯·æ±‚è¶…æ—¶ã€‚é»˜è®¤å€¼ä¸º 100ã€‚
* `java.debug.settings.jdwp.requestTimeout`: è°ƒè¯•å™¨ä¸ç›®æ ‡ JVM é€šä¿¡æ—¶ JDWP è¯·æ±‚çš„è¶…æ—¶ ï¼ˆmsï¼‰ã€‚é»˜è®¤å€¼ä¸º 3000ã€‚
* `java.debug.settings.vmArgs`: ç”¨äºå¯åŠ¨ Java ç¨‹åºçš„ç¼ºçœ VM å‚æ•°ã€‚ä¾‹å¦‚ï¼Œä½¿ç”¨ `-Xmx1G -ea` å°†å †å¤§å°å¢åŠ åˆ° 1 GB å¹¶å¯ç”¨æ–­è¨€ã€‚å¦‚æœè¦è‡ªå®šä¹‰ç‰¹å®šè°ƒè¯•ä¼šè¯çš„ VM å‚æ•°ï¼Œå¯ä»¥åœ¨ `launch.json` ä¸­ä¿®æ”¹ `vmArgs` é…ç½®ã€‚
* `java.silentNotification`: æ§åˆ¶æ˜¯å¦å¯ä»¥ä½¿ç”¨é€šçŸ¥å¼¹çª—æ¥æŠ¥å‘Šè¿›åº¦ã€‚å¦‚æœä¸º trueï¼Œåˆ™æ”¹ä¸ºçŠ¶æ€æ æŠ¥å‘Šè¿›åº¦ã€‚é»˜è®¤ä¸º `false`ã€‚

#### è°ƒè¯•ç›¸å…³ Troubleshooting

å‚è§ [Troubleshooting](https://github.com/microsoft/vscode-java-debug/blob/main/Troubleshooting.md)ï¼Œå¸¸è§çš„é—®é¢˜ä¸ºï¼š

* Java Language Support extension fails to start.
* Build failed, do you want to continue?
* isn't on the classpath. Only syntax errors will be reported.
* Program Error: Could not find or load main class X.
* Program throws ClassNotFoundException.
* Failed to complete Hot Code Replace.
* Please specify the host name and the port of the remote debuggee in the launch.json.
* Failed to evaluate. Reason: Cannot evaluate because the thread is resumed.
* Cannot find a class with the main method.
* No delegateCommandHandler for vscode.java.startDebugSession when starting Debugger.
* Failed to resolve classpath.
* Request type "X" is not supported. Only "launch" and "attach" are supported.

### æµ‹è¯•

> [VSCode Docs - Java - Testing](https://code.visualstudio.com/docs/java/java-testing)
>
> ç‰¹æ€§æä¾›æ‰©å±•ï¼š[Test Runner for Java](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-test) ï¼ˆv0.34.0ï¼‰

VSCode Java æ”¯æŒå¦‚ä¸‹å‡ ç§æµ‹è¯•æ¡†æ¶

* [JUnit 4](https://junit.org/junit4/) (v4.8.0+)
* [JUnit 5](https://junit.org/junit5/) (v5.1.0+)
* [TestNG](https://testng.org/doc/) (v6.8.0+)

[Test Runner for Java](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-test) ä¸ Red Hat çš„ [Language Support for Javaâ„¢](https://marketplace.visualstudio.com/items?itemName=redhat.java) å’Œ [Debugger for Java](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-debug) æ‰©å±•ä¸€èµ·ä½¿ç”¨ï¼Œå¯æä¾›ä»¥ä¸‹åŠŸèƒ½ï¼š

* è¿è¡Œ/è°ƒè¯•æµ‹è¯•ç”¨ä¾‹
* è‡ªå®šä¹‰æµ‹è¯•é…ç½®
* æŸ¥çœ‹æµ‹è¯•æŠ¥å‘Š
* åœ¨æµ‹è¯•èµ„æºç®¡ç†å™¨ä¸­æŸ¥çœ‹æµ‹è¯•

#### é¡¹ç›®é…ç½®

åœ¨é¡¹ç›®ä¸­æ·»åŠ å•ä¾§ä¾èµ–å¦‚ä¸‹ï¼š

* JUnit4 `junit` `junit`
* JUnit5 å‚è§ï¼š[junit5-sample repository](https://github.com/junit-team/junit5-samples)
* TestNG `org.testng` `testng`

#### ç‰¹æ€§

* Run/Debug æµ‹è¯•ç”¨ä¾‹ï¼Œé€šè¿‡ç¼–è¾‘å™¨å·¦ä¾§è£…è®¢æ çš„ç»¿è‰²ä¸‰è§’å·å¯ä»¥å¿«é€Ÿå¯åŠ¨å•ä¾§ã€‚

![image](/image/vscode/java/editor-decoration.png)

* Test Explorer æµ‹è¯•èµ„æºç®¡ç†å™¨ï¼Œæ˜¯ä¸€ä¸ªæ ‘å½¢è§†å›¾ï¼Œç”¨äºæ˜¾ç¤ºå·¥ä½œåŒºä¸­çš„æ‰€æœ‰æµ‹è¯•ç”¨ä¾‹ã€‚æ‚¨å¯ä»¥å•å‡» VSCode å·¦ä¾§æ´»åŠ¨æ ä¸Šçš„çƒ§æ¯æŒ‰é’®å°†å…¶æ‰“å¼€ã€‚æ‚¨è¿˜å¯ä»¥è¿è¡Œ/è°ƒè¯•æ‚¨çš„æµ‹è¯•ç”¨ä¾‹å¹¶ä»é‚£é‡ŒæŸ¥çœ‹å®ƒä»¬çš„æµ‹è¯•ç»“æœã€‚

![image](/image/vscode/java/test_explorer.png)

* è‡ªå®šä¹‰æµ‹è¯•é…ç½®ï¼Œå¯ä»¥é€šè¿‡ `java.test.config` ä»¥åŠ `java.test.defaultConfig` é…ç½®é¡¹ï¼Œé…ç½®æµ‹è¯•çš„è¿è¡Œé…ç½®ï¼Œæ›´å¤šç»†èŠ‚å‚è§ï¼š[vscode-java-test Wiki](https://github.com/Microsoft/vscode-java-test/wiki/Run-with-Configuration)ã€‚`java.test.config` æ‰€æœ‰å­—æ®µå¦‚ä¸‹ï¼š
    * **args**: å‘½ä»¤è¡Œå‚æ•°ã€‚
    * **classPaths**: æ­¤è®¾ç½®ä¸­å®šä¹‰çš„ç±»è·¯å¾„å°†é™„åŠ åˆ°å·²è§£æçš„ç±»è·¯å¾„ä¸­ã€‚
    * **env**: é€šè¿‡é”®å€¼å¯¹è±¡è¿è¡Œæµ‹è¯•æ—¶æŒ‡å®šé¢å¤–çš„ç¯å¢ƒå˜é‡ã€‚
    * **envFile**: æŒ‡å®šåŒ…å«ç¯å¢ƒå˜é‡å®šä¹‰çš„æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ã€‚
    * **modulePaths**: æ­¤è®¾ç½®ä¸­å®šä¹‰çš„æ¨¡å—è·¯å¾„å°†é™„åŠ åˆ°å·²è§£æçš„æ¨¡å—è·¯å¾„ä¸­ã€‚
    * **name**: æŒ‡å®šé…ç½®é¡¹çš„åç§°ã€‚å¯ä»¥é€šè¿‡é…ç½®é¡¹ `java.test.defaultConfig` æ¥è®¾ç½®é»˜è®¤é…ç½®åç§°ã€‚
    * **preLaunchTask**: æŒ‡å®š tasks.json ä¸­æŒ‡å®šçš„ä»»åŠ¡çš„æ ‡ç­¾ï¼ˆåœ¨å·¥ä½œåŒºçš„ .vscode æ–‡ä»¶å¤¹ä¸­ï¼‰ã€‚è¯¥ä»»åŠ¡å°†åœ¨æµ‹è¯•å¼€å§‹ä¹‹å‰å¯åŠ¨ã€‚
    * **sourcePaths**: è°ƒè¯•æµ‹è¯•æ—¶æŒ‡å®šé¢å¤–çš„æºè·¯å¾„ã€‚
    * **vmArgs**: æŒ‡å®š JVM çš„é¢å¤–é€‰é¡¹å’Œç³»ç»Ÿå±æ€§ã€‚
    * **workingDirectory**: è¿è¡Œæµ‹è¯•æ—¶æŒ‡å®šå·¥ä½œç›®å½•ã€‚

![image](/image/vscode/java/configuration.png)

* æŸ¥çœ‹æµ‹è¯•ç»“æœï¼Œè¿è¡Œ/è°ƒè¯•æµ‹è¯•ç”¨ä¾‹åï¼Œç›¸å…³æµ‹è¯•é¡¹çš„çŠ¶æ€å°†åœ¨ç¼–è¾‘å™¨è£…é¥°å’Œæµ‹è¯•èµ„æºç®¡ç†å™¨ä¸­æ›´æ–°ã€‚è¿˜å¯ä»¥é€šè¿‡å‘½ä»¤ `>Test: Peek Output` æ¥æŸ¥çœ‹ç»“æœè§†å›¾ã€‚å¯ä»¥é€‰æ‹©å †æ ˆè·Ÿè¸ªä¸­çš„é“¾æ¥ä»¥å¯¼èˆªåˆ°æºä½ç½®ã€‚

![image](/image/vscode/java/test_report.png)

* ç”Ÿæˆæµ‹è¯•ï¼Œåœ¨ç¼–è¾‘å™¨å³å‡»ï¼Œé€‰ `Source Action...` -> `Generate Tests....`ï¼Œåˆ†ä¸ºå¦‚ä¸‹ä¸¤ç§åœºæ™¯
    * ä»ä¸»è¦æºä»£ç è§¦å‘ç”Ÿæˆæµ‹è¯•
    * ä»æµ‹è¯•æºä»£ç è§¦å‘ç”Ÿæˆæµ‹è¯•

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/generate-tests-from-main.mp4" type="video/mp4">
</video>

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/generate-tests-from-test.mp4" type="video/mp4">
</video>

* æµ‹è¯•è·³è½¬ï¼ŒVSCode Java æä¾›äº†åœ¨æµ‹è¯•å’Œæµ‹è¯•ä¸»é¢˜ä¹‹é—´å¿«é€Ÿè·³è½¬çš„åŠŸèƒ½ã€‚å¦‚æœæºä»£ç åŒ…å«åœ¨ `src/main/java` æˆ– `src/test/java` ä¸­ï¼Œæ‚¨å¯ä»¥åœ¨ç¼–è¾‘å™¨ä¸Šä¸‹æ–‡èœå•ä¸­æ‰¾åˆ°åä¸º `Go to Test` æˆ– `Go to Test Subject` çš„æ¡ç›®ã€‚å¦å¤–è¿˜å¯ä»¥é€šè¿‡ `>Java: Go to Test` å‘½ä»¤è·³è½¬ã€‚

![image](/image/vscode/java/goto-test.png)

* æµ‹è¯•å‘½ä»¤ï¼Œé€šè¿‡ `>Test:` å¯ä»¥çœ‹åˆ°æ‰€æœ‰çš„ Java æµ‹è¯•ç›¸å…³çš„å‘½ä»¤

![image](/image/vscode/java/command_palette.png)

* VSCode æµ‹è¯•åŠŸèƒ½çš„é€šç”¨é…ç½®ï¼Œé€šè¿‡ `âŒ˜,` æœç´¢ testingï¼ŒæŸ¥çœ‹ã€‚

![image](/image/vscode/java/settings.png)

* è¿è¡Œè°ƒè¯•æµ‹è¯•å‘½ä»¤ï¼Œ`Java: Run Tests` è¿è¡Œæµ‹è¯•ï¼Œ`Java: Debug Tests` è°ƒè¯•æµ‹è¯•

#### æ›´å¤š

* [Wiki](https://github.com/microsoft/vscode-java-test/wiki)  
* [FAQ](https://github.com/microsoft/vscode-java-test/wiki/FAQ)
* [issue List](https://github.com/microsoft/vscode-java-test/issues)

## æ¡†æ¶æ”¯æŒ

### Java EE Server

> [VSCode Docs - Java - Application Servers](https://code.visualstudio.com/docs/java/java-spring-boot)
>
> ç‰¹æ€§æä¾›æ‰©å±•ï¼š[Community Server Connectors](https://marketplace.visualstudio.com/items?itemName=redhat.vscode-community-server-connector) ï¼ˆv0.25.2ï¼‰ å’Œ [Remote Server Protocol UIP](https://marketplace.visualstudio.com/items?itemName=redhat.vscode-rsp-ui) ï¼ˆv0.23.11ï¼‰

[Community Server Connectors](https://marketplace.visualstudio.com/items?itemName=redhat.vscode-community-server-connector) æä¾›äº†è¿æ¥åˆ°å¸¸è§çš„å¼€æºçš„ Servlet å®¹å™¨çš„èƒ½åŠ›ï¼š

* Apache Tomcat ( 5.5 | 6.0 | 7.0 | 8.0 | 8.5 | 9.0 )
* Apache Karaf ( 4.8 )
* Apache Felix ( 3.2 | 4.6 | 5.6 | 6.0 )
* Jetty ( 9.x )
* Glassfish ( 5.x )
* Websphere Liberty ( 21.x )

é€šè¿‡ `>Servers:` å¯ä»¥æŸ¥çœ‹æ‰€æœ‰çš„å‘½ä»¤ã€‚æ›´å¤šå‚è§ï¼š[github](https://github.com/redhat-developer/vscode-rsp-ui)

å…¶ä»– Java EE Server æ”¯æŒè‡ªè¡Œåœ¨ [VSCode æ‰©å±•å¸‚åœº](https://marketplace.visualstudio.com/) æœç´¢

### Spring Boot

> [VSCode Docs - Java - Spring Boot](https://code.visualstudio.com/docs/java/java-spring-boot)
>
> ç‰¹æ€§æä¾›æ‰©å±•ï¼š[Spring Boot Tools](https://marketplace.visualstudio.com/items?itemName=Pivotal.vscode-spring-boot) ï¼ˆv1.29.0ï¼‰å’Œ [Spring Initializr](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-spring-initializr) ï¼ˆ v0.8.0ï¼‰ å’Œ [Spring Boot Dashboard](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-spring-boot-dashboard) ï¼ˆv0.2.0ï¼‰ ï¼ˆé€šè¿‡ [Spring Boot Extension Pack](https://marketplace.visualstudio.com/items?itemName=pivotal.vscode-boot-dev-pack) ä¸€é”®å®‰è£…ï¼‰

#### åˆ›å»ºé¡¹ç›®

é€šè¿‡ [Spring Initializr](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-spring-initializr) é¡¹ç›®ï¼Œå¯ä»¥å¿«é€Ÿåˆ›å»º Spring é¡¹ç›®éª¨æ¶ã€‚é€šè¿‡ `>Spring Initializr: create` å‘½ä»¤è§¦å‘ã€‚

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/spring-initializr.mp4" type="video/mp4">
</video>

#### ç¼–è¾‘é¡¹ç›®

é€šè¿‡ [Spring Initializr](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-spring-initializr) é¡¹ç›®ï¼Œå¯ä»¥ä¸ºå·²å­˜åœ¨çš„ Spring Boot é¡¹ç›®æ·»åŠ æ–°çš„ starterã€‚é€šè¿‡ `>Spring Initializr: add` æˆ–è€… `pom.xml` æ–‡ä»¶ç¼–è¾‘å™¨ï¼ˆå³å‡»ï¼‰ä¸Šä¸‹æ–‡èœå•ï¼Œé€‰æ‹© `Add starters...` æ·»åŠ ã€‚

#### å¼€å‘åº”ç”¨

é€šè¿‡ [Spring Boot Tools](https://marketplace.visualstudio.com/items?itemName=Pivotal.vscode-spring-boot) æ‰©å±•ï¼Œæä¾›äº† Spring Boot ç›¸å…³çš„ç‰¹æ€§ï¼Œç»†èŠ‚å‚è§ï¼š[detailed usage guide](https://github.com/spring-projects/sts4/tree/main/vscode-extensions/vscode-spring-boot#usage)ã€‚åŒ…æ‹¬ï¼š

* å¿«é€Ÿå¯¼èˆªåˆ°å·¥ä½œåŒºä¸­çš„ Spring å…ƒç´ 
* Spring çš„ application çš„ `.yml` å’Œ `.properties` æä¾›æ™ºèƒ½ä»£ç å®Œæˆ
* å¿«é€Ÿè®¿é—®æ­£åœ¨è¿è¡Œçš„ Spring åº”ç”¨ç¨‹åº
* å®æ—¶åº”ç”¨ä¿¡æ¯
* ä»£ç æ¨¡æ¿

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/spring-live-info.mp4" type="video/mp4">
</video>

#### è¿è¡Œåº”ç”¨

é™¤äº†ä½¿ç”¨ F5 æ¥è¿è¡Œåº”ç”¨ç¨‹åºä¹‹å¤–ï¼Œè¿˜æœ‰ [Spring Boot Dashboard](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-spring-boot-dashboard) æ‰©å±•ï¼Œå®ƒå…è®¸æ‚¨æŸ¥çœ‹å’Œç®¡ç†å·¥ä½œåŒºä¸­æ‰€æœ‰å¯ç”¨çš„ Spring Boot é¡¹ç›®ï¼Œä»¥åŠå¿«é€Ÿå¯åŠ¨ã€åœæ­¢æˆ–è°ƒè¯•æ‚¨çš„é¡¹ç›®ã€‚

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/spring-dashboard.mp4" type="video/mp4">
</video>

### Quarkus å’Œ MicroProfile

> ç‰¹æ€§æä¾›æ‰©å±•ï¼š[Extension Pack for MicroProfile](https://marketplace.visualstudio.com/items?itemName=MicroProfile-Community.vscode-microprofile-pack)
 å’Œ [Quarkus](https://marketplace.visualstudio.com/items?itemName=redhat.vscode-quarkus)
Quarkus å¯ä»¥ç†è§£ä¸º MicroProfile æ ‡å‡†çš„ä¸€ä¸ªå®ç°ï¼Œå¹¶åŸç”Ÿæ”¯æŒ k8s çš„å…¨æ ˆ Java åç«¯æ¡†æ¶ã€‚

* [Extension Pack for MicroProfile](https://marketplace.visualstudio.com/items?itemName=MicroProfile-Community.vscode-microprofile-pack)
    * [MicroProfile Starter](https://marketplace.visualstudio.com/items?itemName=MicroProfile-Community.mp-starter-vscode-ext) - æä¾›å¿«é€Ÿç”Ÿæˆ MicroProfile çš„ Maven é¡¹ç›®
    * [Generator for MicroProfile Rest Client](https://marketplace.visualstudio.com/items?itemName=MicroProfile-Community.mp-rest-client-generator-vscode-ext) - ä» OpenAPI æ–‡æ¡£å¿«é€Ÿç”Ÿæˆ MicroProfile Rest Client æ¥å£æ¨¡æ¿ã€‚
    * [Tools for MicroProfile](https://marketplace.visualstudio.com/items?itemName=redhat.vscode-microprofile) - é€šè¿‡ [Language Server for Eclipse MicroProfile](https://github.com/eclipse/lsp4mp) å¯¹ MicroProfile API å’Œ properties é…ç½®æ–‡ä»¶æä¾›è¯­è¨€æ”¯æŒ
* [Quarkus](https://marketplace.visualstudio.com/items?itemName=redhat.vscode-quarkus)ï¼Œå¯¹ Quarkus æä¾›åˆ›å»ºé¡¹ç›®ã€äº¤äº’å¼æ·»åŠ  Extensionã€è°ƒè¯•ã€æ„å»ºå¯æ‰§è¡Œæ–‡ä»¶ã€éƒ¨ç½²åˆ° OpenShiftã€å¯¹ properties/yml é…ç½®æ–‡ä»¶æä¾›è¯­è¨€æ”¯æŒã€å¯¹ç›¸å…³ Java æ–‡ä»¶æä¾›æ”¯æŒã€‚

### Lombok

> ç‰¹æ€§æä¾›æ‰©å±•ï¼š[Lombok Annotations Support for VS Code](https://marketplace.visualstudio.com/items?itemName=GabrielBB.vscode-lombok)

å‚è§ï¼š[README](https://marketplace.visualstudio.com/items?itemName=GabrielBB.vscode-lombok)

### GUI åº”ç”¨

> [VSCode Docs - Java - GUI Applications](https://code.visualstudio.com/docs/java/java-gui)
>
> ç‰¹æ€§æä¾›æ‰©å±•ï¼š[Extension Pack for Java](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack) ï¼ˆv0.21.0ï¼‰

#### JavaFX

**åˆ›å»º**

* æ­¥éª¤ 1: å®‰è£… [Extension Pack for Java](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-pack)
* æ­¥éª¤ 2: `â‡§âŒ˜P` è¾“å…¥ `>Java: Create Java Project`
* æ­¥éª¤ 3: é€‰æ‹© JavaFX

![image](/image/vscode/java/create-javafx.png)

**è¿è¡Œ**

> æ³¨æ„ï¼šä»¥ä¸‹æŒ‡å—ä»…é€‚ç”¨äº Maven ç®¡ç†çš„é¡¹ç›®ã€‚

è¦è¿è¡Œ JavaFX åº”ç”¨ç¨‹åºï¼Œæ‚¨å¯ä»¥æ‰“å¼€ Maven Explorerï¼Œå±•å¼€ hellofx > Plugins > javafx å¹¶è¿è¡Œ Maven ç›®æ ‡ï¼šjavafx:runã€‚

<video autoplay="" loop="" muted="" playsinline="" controls="">
  <source src="/image/vscode/java/run-javafx.mp4" type="video/mp4">
</video>

æ›´å¤š JavaFX ä¾‹å­ï¼Œå‚è§ï¼š[openjfx samples repository](https://github.com/openjfx/samples/tree/master/IDE/VSCode)

#### AWT

å¼€å‘ AWT éœ€è¦å¼€å¯è¯¥ç‰¹æ€§ï¼š `>Java: Help Center` æ‰“å¼€ `Student` é€‰æ‹© `Enable AWT Development` ï¼ˆæ²¡æ‰¾åˆ°é…ç½®çš„åœ°æ–¹ï¼Œå¥½åƒå·²ç»é»˜è®¤æ”¯æŒäº†ï¼‰ã€‚

#### Swing

é»˜è®¤æ”¯æŒ Swing åº”ç”¨ç¨‹åºå¼€å‘ã€‚æ‚¨æ— éœ€ä»»ä½•è®¾ç½®å³å¯ç›´æ¥ç¼–å†™ Swing åº”ç”¨ç¨‹åºä»£ç ã€‚æ›´å¤šå‚è§ï¼š [Oracle Swing documentation](https://docs.oracle.com/javase/tutorial/uiswing/examples/components/index.html)

## æ‰©å±•å…¶ä»–è´¡çŒ®

### [Project Manager for Java](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-java-dependency)

#### é…ç½®

åç§° | è¯´æ˜ | é»˜è®¤å€¼
--- | --- | ---
java.dependency.showMembers | åœ¨èµ„æºç®¡ç†å™¨ä¸­æ˜¾ç¤ºæˆå‘˜ | false
java.dependency.syncWithFolderExplorer | å°† Java é¡¹ç›®èµ„æºç®¡ç†å™¨é€‰æ‹©ä¸æ–‡ä»¶å¤¹èµ„æºç®¡ç†å™¨åŒæ­¥ | true
java.dependency.autoRefresh | å°† Java é¡¹ç›®èµ„æºç®¡ç†å™¨ä¸æ›´æ”¹åŒæ­¥ | true
java.dependency.refreshDelay | æ£€æµ‹åˆ°æ›´æ”¹æ—¶è°ƒç”¨è‡ªåŠ¨åˆ·æ–°çš„å»¶è¿Ÿæ—¶é—´ (ms) | 2000
java.dependency.packagePresentation | åŒ…è£…å‘ˆç°æ–¹å¼ï¼šflat æˆ– hierarchical | flat
java.project.exportJar.targetPath | æŒ‡å®šå¯¼å‡º jar çš„è¾“å‡ºè·¯å¾„ã€‚ é»˜è®¤å€¼ä¸º `${workspaceFolder}/${workspaceFolderBasename}.jar`ã€‚ è¦åœ¨æ¯æ¬¡å¯¼å‡º jar æ–‡ä»¶æ—¶æ‰‹åŠ¨é€‰æ‹©è¾“å‡ºä½ç½®ï¼Œåªéœ€å°†å…¶ç•™ç©ºæˆ–å°†å…¶è®¾ç½®ä¸º askUserã€‚ | `${workspaceFolder}/${workspaceFolderBasename}.jar`

#### å‘½ä»¤

> ä»…å±•ç¤ºå¯ä»¥åªèƒ½é€šè¿‡ å‘½ä»¤é¢æ¿ ï¼ˆCmd + Shift + Pï¼‰ è°ƒç”¨çš„å‘½ä»¤

åç§° | è¯´æ˜ |
--- | --- |
java.project.refreshLibraries | åˆ·æ–° |

### [Language Support for Javaâ„¢ by Red Hat](https://marketplace.visualstudio.com/items?itemName=redhat.java)

#### ä»£ç ç‰‡æ®µ

å‰ç¼€ | è¯´æ˜
---- | ----
main | ç”Ÿæˆ main å‡½æ•°
ctor | ç”Ÿæˆå…¬æœ‰æ„é€ å‡½æ•°
try_catch | ç”Ÿæˆ try catch å—
try_resources | ç”Ÿæˆ try resources å—
private_method| ç”Ÿæˆç§æœ‰æ–¹æ³•
public_method | ç”Ÿæˆå…¬æœ‰æ–¹æ³•
private_static_method | ç”Ÿæˆç§æœ‰é™æ€æ–¹æ³•
public_static_method | ç”Ÿæˆå…¬æœ‰é™æ€æ–¹æ³•
protected_method | ç”Ÿæˆå—ä¿æŠ¤æ–¹æ³•
switch | ç”Ÿæˆ switch å—
new | ç”Ÿæˆ new å—
prf | ç”Ÿæˆç§æœ‰å­—æ®µå£°æ˜
sysout | ç”Ÿæˆ System.out.println
syserr | ç”Ÿæˆ System.err.println
fori | ç”Ÿæˆ for int ...
foreach | ç”Ÿæˆ `for (type var : iterable)` è¯­å¥
if | ç”Ÿæˆ if è¯­å¥
ifelse | ç”Ÿæˆ if else è¯­å¥
ifnull | ç”Ÿæˆ if (condition == null)
ifnotnull | ç”Ÿæˆ if (condition != null)
while | ç”Ÿæˆ while å—
dowhile | ç”Ÿæˆ do while å—

#### é…ç½®

åç§° | è¯´æ˜ | é»˜è®¤å€¼
--- | --- | ---
java.home | åºŸå¼ƒï¼Œä½¿ç”¨ `java.jdt.ls.java.home` æ›¿ä»£ï¼Œç”¨æ¥å¯åŠ¨å Java Language Server çš„ JDK çš„ç»å¯¹è·¯å¾„ï¼Œéœ€è¦ VSCode é‡å¯ç”Ÿæ•ˆ |
java.jdt.ls.vmargs | è¿è¡Œ Java Language Server çš„å‘½ä»¤è¡Œå‚æ•°ï¼Œéœ€è¦ VSCode é‡å¯ç”Ÿæ•ˆ |
java.errors.incompleteClasspath.severity | æŒ‡å®š Java æ–‡ä»¶çš„ç±»è·¯å¾„ä¸å®Œæ•´æ—¶æ¶ˆæ¯çš„ä¸¥é‡æ€§ã€‚ æ”¯æŒçš„å€¼æ˜¯å¿½ç•¥ã€ä¿¡æ¯ã€è­¦å‘Šã€é”™è¯¯ã€‚| warn
java.trace.server |è·Ÿè¸ª VS Code å’Œ Java è¯­è¨€æœåŠ¡å™¨ä¹‹é—´çš„é€šä¿¡ã€‚| off
java.configuration.updateBuildConfiguration  | æŒ‡å®šå¯¹æ„å»ºæ–‡ä»¶çš„ä¿®æ”¹å¦‚ä½•æ›´æ–° Java ç±»è·¯å¾„/é…ç½®ã€‚ æ”¯æŒçš„å€¼è¢«ç¦ç”¨ï¼ˆæ²¡æœ‰ä»»ä½•ååº”ï¼‰ã€äº¤äº’ï¼ˆè¯¢é—®æ¯æ¬¡ä¿®æ”¹æ—¶çš„æ›´æ–°ï¼‰ã€è‡ªåŠ¨ï¼ˆè‡ªåŠ¨è§¦å‘æ›´æ–°ï¼‰ã€‚ | interactive
java.configuration.maven.userSettings | Maven ç”¨æˆ· settings.xml çš„è·¯å¾„ã€‚ |
java.configuration.checkProjectSettingsExclusions | æ§åˆ¶æ˜¯å¦ä»æ–‡ä»¶èµ„æºç®¡ç†å™¨ä¸­æ’é™¤æ‰©å±•ç”Ÿæˆçš„é¡¹ç›®è®¾ç½®æ–‡ä»¶ï¼ˆ.projectã€.classpathã€.factorypathã€.settings/ï¼‰| true
java.referencesCodeLens.enabled | Enable/disable ä»£ç å¼•ç”¨ code lenses. | false
java.implementationsCodeLens.enabled | Enable/disable å®ç°çš„ code lenses | false
java.signatureHelp.enabled | Enable/disable å‡½æ•°ç­¾åæ™ºèƒ½æç¤ºï¼ˆé€šè¿‡ `()` è§¦å‘ï¼‰ | false
java.contentProvider.preferred | åç¼–è¯‘å™¨ ID (see 3rd party decompilers available in [vscode-java-decompiler](https://marketplace.visualstudio.com/items?itemName=dgileadi.java-decompiler)). | fernflower
java.import.exclusions | é€šè¿‡ glob æ¨¡å¼ä»å¯¼å…¥ä¸­æ’é™¤æ–‡ä»¶å¤¹ã€‚ åˆ©ç”¨ ! å¦å®šæ¨¡å¼ä»¥å…è®¸å­æ–‡ä»¶å¤¹å¯¼å…¥ã€‚ æ‚¨å¿…é¡»åŒ…å«çˆ¶ç›®å½•ã€‚ é¡ºåºå¾ˆé‡è¦ã€‚ |
java.import.gradle.enabled | Enable/disable Gradle å¯¼å…¥ | true
java.import.gradle.wrapper.enabled | ä½¿ç”¨ `gradle-wrapper.properties` æ–‡ä»¶ä¸­çš„ Gradle | true
java.import.gradle.version | å¦‚æœ Gradle Wrapper ä¸¢å¤±æˆ–ç¦ç”¨ï¼Œä½¿ç”¨ç‰¹å®šç‰ˆæœ¬çš„ Gradleã€‚ |
java.import.gradle.home | å¦‚æœ Gradle åŒ…è£…å™¨ä¸¢å¤±æˆ–ç¦ç”¨ä¸”æœªæŒ‡å®š `java.import.gradle.version`ï¼Œåˆ™ä½¿ç”¨æŒ‡å®šæœ¬åœ°å®‰è£…ç›®å½•ä¸­çš„ Gradle æˆ– GRADLE_HOMEã€‚ |
java.import.gradle.arguments | Gradle å‘½ä»¤è¡Œå‚æ•° |
java.import.gradle.jvmArguments | Gradle JVM å‘½ä»¤è¡Œå‚æ•° |
java.import.gradle.user.home | setting for GRADLE_USER_HOME |
java.import.gradle.offline.enabled | Enable/disable Gradle offline æ¨¡å¼ | false
java.import.maven.enabled | Enable/disable Maven å¯¼å…¥ | true
java.autobuild.enabled | Enable/disable 'auto build' | true
java.maxConcurrentBuilds | è®¾ç½®æœ€å¤§æ„å»ºå¹¶å‘æ•° | 1
java.completion.enabled | Enable/disable ä»£ç å®Œæˆæ”¯æŒ | true
java.completion.overwrite | è®¾ç½®ä¸º true æ—¶ï¼Œä»£ç å®Œæˆå°† overwrite å½“å‰æ–‡æœ¬ã€‚ å½“è®¾ç½®ä¸º false æ—¶ï¼Œåªæ˜¯ç®€å•åœ°æ·»åŠ ä»£ç  | true
java.completion.guessMethodArguments | å½“è®¾ç½®ä¸º true æ—¶ï¼Œå½“ä»ä»£ç æç¤ºåˆ—è¡¨ä¸­é€‰æ‹©æ–¹æ³•æ—¶ï¼Œä¼šçŒœæµ‹æ–¹æ³•å‚æ•°ã€‚ | false
java.completion.filteredTypes | å®šä¹‰ç±»å‹è¿‡æ»¤å™¨ã€‚ åœ¨å†…å®¹è¾…åŠ©æˆ–å¿«é€Ÿä¿®å¤å»ºè®®ä»¥åŠç»„ç»‡å¯¼å…¥æ—¶ï¼Œå°†å¿½ç•¥å…¶å®Œå…¨é™å®šåç§°ä¸æ‰€é€‰è¿‡æ»¤å™¨å­—ç¬¦ä¸²åŒ¹é…çš„æ‰€æœ‰ç±»å‹ã€‚ ä¾‹å¦‚ï¼Œ'java.awt.*' å°†éšè— awt åŒ…ä¸­çš„æ‰€æœ‰ç±»å‹ã€‚|
java.completion.favoriteStaticMembers | å®šä¹‰é™æ€æˆå‘˜åˆ—è¡¨æˆ–å…·æœ‰é™æ€æˆå‘˜çš„ç±»å‹ã€‚|
java.completion.importOrder | å®šä¹‰å¯¼å…¥è¯­å¥çš„æ’åºé¡ºåºã€‚|
java.progressReports.enabled | å®éªŒæ€§ Enable/disable è¿›åº¦æŠ¥å‘Š | false
java.format.enabled | Enable/disable Java é»˜è®¤æ ¼å¼åŒ–å™¨ | true
java.format.settings.url | æ ¼å¼åŒ–è¯¦ç»†é…ç½® URL |
java.format.settings.profile | æ¥è‡ª Eclipse æ ¼å¼åŒ–ç¨‹åºè®¾ç½®çš„å¯é€‰æ ¼å¼åŒ–ç¨‹åºé…ç½®æ–‡ä»¶åç§° |
java.format.comments.enabled | æ³¨é‡Šæ ¼å¼åŒ– |  true
java.format.onType.enabled | Enable/disable on-type æ ¼å¼åŒ– (è§¦å‘å­—ç¬¦ `;,` æˆ– `<return>` æˆ– `}`).
java.foldingRange.enabled | Enable/disable æ™ºèƒ½çš„æŠ˜å èŒƒå›´ã€‚å¦‚æœç¦ç”¨ï¼Œå®ƒå°†ä½¿ç”¨ VS Code æä¾›çš„é»˜è®¤åŸºäºç¼©è¿›çš„æŠ˜å èŒƒå›´ | true
java.maven.downloadSources | ä½œä¸ºå¯¼å…¥ Maven é¡¹ç›®çš„ä¸€éƒ¨åˆ†ï¼Œå¯ç”¨/ç¦ç”¨ Maven æºä»£ç çš„ä¸‹è½½ | false
java.maven.updateSnapshots | å¼ºåˆ¶æ›´æ–° Snapshots/Releases | false.
java.codeGeneration.hashCodeEquals.useInstanceof | ç”Ÿæˆ hashCode å’Œ equals æ–¹æ³•æ—¶ä½¿ç”¨ `instanceof` æ¯”è¾ƒç±»å‹ | false.
java.codeGeneration.hashCodeEquals.useJava7Objects | åœ¨ç”Ÿæˆ hashCode å’Œ equals æ–¹æ³•æ—¶ä½¿ç”¨ Objects.hash å’Œ Objects.equalsã€‚ æ­¤è®¾ç½®ä»…é€‚ç”¨äº Java 7 åŠæ›´é«˜ç‰ˆæœ¬ã€‚ | false
java.codeGeneration.useBlocks | ç”Ÿæˆæ–¹æ³•æ—¶åœ¨ if è¯­å¥ä¸­ä½¿ç”¨å—ã€‚| false
java.codeGeneration.generateComments | ç”Ÿæˆæ–¹æ³•æ—¶ç”Ÿæˆæ–¹æ³•æ³¨é‡Š | false
java.codeGeneration.toString.template | ç”¨äºç”Ÿæˆ toString æ–¹æ³•çš„æ¨¡æ¿ã€‚| `${object.className} [${member.name()}=${member.value}, ${otherMembers}]`
java.codeGeneration.toString.codeStyle | ç”¨äºç”Ÿæˆ toString æ–¹æ³•çš„ä»£ç æ ·å¼ã€‚ |  STRING_CONCATENATIONã€‚
java.codeGeneration.toString.skipNullValues | ç”Ÿæˆ toString æ–¹æ³•æ—¶è·³è¿‡ç©ºå€¼ã€‚| false
java.codeGeneration.toString.listArrayContents | åˆ—å‡ºæ•°ç»„çš„å†…å®¹ï¼Œè€Œä¸æ˜¯ä½¿ç”¨æœ¬æœº toString()ã€‚| true
java.codeGeneration.toString.limitElements | é™åˆ¶è¦åˆ—å‡ºçš„ arrays/collections/maps ä¸­çš„é¡¹ç›®æ•°ï¼Œå¦‚æœä¸º 0ï¼Œåˆ™åˆ—å‡ºæ‰€æœ‰ã€‚ | 0
java.selectionRange.enabled | Enable/disable Java çš„æ™ºèƒ½é€‰æ‹©æ”¯æŒã€‚ ç¦ç”¨æ­¤é€‰é¡¹ä¸ä¼šå½±å“ VSCode å†…ç½®çš„åŸºäºå•è¯å’ŒåŸºäºæ‹¬å·çš„æ™ºèƒ½é€‰æ‹©ã€‚ | true
java.showBuildStatusOnStart.enabled | å¯åŠ¨æ—¶è‡ªåŠ¨æ˜¾ç¤ºæ„å»ºçŠ¶æ€ï¼Œé»˜è®¤ä¸ºé€šçŸ¥ï¼Œæšä¸¾å€¼ä¸º (notificationã€terminalã€off) | notification
java.project.outputPath | å­˜å‚¨ç¼–è¯‘è¾“å‡ºçš„å·¥ä½œåŒºçš„ç›¸å¯¹è·¯å¾„ã€‚ ä»…åœ¨ WORKSPACE èŒƒå›´å†…æœ‰æ•ˆã€‚ è¯¥è®¾ç½®ä¸ä¼šå½±å“ Maven æˆ– Gradle é¡¹ç›®ã€‚|
java.project.referencedLibraries | é…ç½® glob æ¨¡å¼ä»¥å°†æœ¬åœ°åº“å¼•ç”¨åˆ° Java é¡¹ç›®ã€‚|
java.completion.maxResults | å®Œæˆç»“æœçš„æœ€å¤§æ•°é‡ï¼ˆä¸åŒ…æ‹¬ç‰‡æ®µï¼‰ã€‚ 0ï¼ˆé»˜è®¤å€¼ï¼‰ç¦ç”¨é™åˆ¶ï¼Œè¿”å›æ‰€æœ‰ç»“æœã€‚ å¦‚æœå‡ºç°æ€§èƒ½é—®é¢˜ï¼Œè¯·è€ƒè™‘è®¾ç½®ä¸€ä¸ªåˆç†çš„é™åˆ¶ã€‚ | 0
java.configuration.runtimes | å°† Java æ‰§è¡Œç¯å¢ƒæ˜ å°„åˆ°æœ¬åœ° JDK |
java.server.launchMode | Language Server å¯åŠ¨æ¨¡å¼ Standardã€LightWeightã€Hybrid | Hybrid
java.sources.organizeImports.starThreshold |æŒ‡å®šåœ¨ä½¿ç”¨æ˜Ÿå½¢å¯¼å…¥å£°æ˜ä¹‹å‰æ·»åŠ çš„å¯¼å…¥æ•°é‡ | 99
java.sources.organizeImports.staticStarThreshold |æŒ‡å®šåœ¨ä½¿ç”¨æ˜Ÿå½¢å¯¼å…¥å£°æ˜ä¹‹å‰æ·»åŠ çš„é™æ€å¯¼å…¥æ•°é‡ | 99
java.imports.gradle.wrapper.checksums | å®šä¹‰ Gradle Wrappers çš„å…è®¸/ç¦æ­¢ SHA-256 æ ¡éªŒå’Œ |
java.project.importOnFirstTimeStartup |æŒ‡å®šé¦–æ¬¡ä»¥æ··åˆæ¨¡å¼æ‰“å¼€æ–‡ä»¶å¤¹æ—¶æ˜¯å¦å¯¼å…¥ Java é¡¹ç›®ã€‚ æ”¯æŒçš„å€¼æ˜¯ disabledï¼ˆä»ä¸å¯¼å…¥ï¼‰ã€interactiveï¼ˆè¯¢é—®æ˜¯å¦å¯¼å…¥ï¼‰ã€automaticï¼ˆå§‹ç»ˆå¯¼å…¥ï¼‰ | automatic
java.project.importHint | Enable/disable æœåŠ¡å™¨æ¨¡å¼åˆ‡æ¢ä¿¡æ¯ï¼Œå½“ Java é¡¹ç›®å¯¼å…¥åœ¨å¯åŠ¨æ—¶è¢«è·³è¿‡ã€‚ | true.
java.import.gradle.java.home | æŒ‡å®šç”¨äºè¿è¡Œ Gradle å®ˆæŠ¤ç¨‹åºçš„ JVM çš„ä½ç½® |
java.project.resourceFilters | å°†æ–‡ä»¶å’Œæ–‡ä»¶å¤¹æ’é™¤åœ¨ Java è¯­è¨€æœåŠ¡å™¨åˆ·æ–°ä¹‹å¤–ï¼Œè¿™å¯ä»¥æé«˜æ•´ä½“æ€§èƒ½ã€‚ ä¾‹å¦‚ï¼Œ`["node_modules",".git"]` å°†æ’é™¤æ‰€æœ‰åä¸º `'node_modules'` æˆ– `'.git'` çš„è·¯å¾„ |  `["node_modules",".git"]`
java.templates.fileHeader | æŒ‡å®šæ–° Java æ–‡ä»¶çš„æ–‡ä»¶å¤´æ³¨é‡Šã€‚ æ”¯æŒä½¿ç”¨å­—ç¬¦ä¸²æ•°ç»„é…ç½®å¤šè¡Œæ³¨é‡Šï¼Œå¹¶ä½¿ç”¨ `${variable}` å¼•ç”¨é¢„å®šä¹‰çš„å˜é‡ã€‚|
java.templates.typeComment | æŒ‡å®šæ–° Java ç±»å‹çš„ç±»å‹æ³¨é‡Šã€‚ æ”¯æŒä½¿ç”¨å­—ç¬¦ä¸²æ•°ç»„é…ç½®å¤šè¡Œæ³¨é‡Šï¼Œå¹¶ä½¿ç”¨ `${variable}` å¼•ç”¨é¢„å®šä¹‰çš„å˜é‡ |
java.references.includeAccessors | æŸ¥æ‰¾å¼•ç”¨æ—¶åŒ…æ‹¬ getterã€setter å’Œ builder/constructorã€‚ | false
java.configuration.maven.globalSettings | Maven å…¨å±€ settings.xml çš„è·¯å¾„ã€‚|
java.eclipse.downloadSources  | Enable/disable Eclipse é¡¹ç›®çš„ Maven æºå·¥ä»¶çš„ä¸‹è½½ã€‚|
java.recommendations.dependency.analytics.show | æ˜¾ç¤ºæ¨èçš„ä¾èµ–åˆ†ææ‰©å±• | true
java.references.includeDecompiledSources | æŸ¥æ‰¾å‚è€ƒæ—¶åŒ…æ‹¬åç¼–è¯‘çš„æºã€‚ | true
java.project.sourcePaths | é…ç½®æºæ–‡ä»¶çš„å·¥ä½œç©ºé—´çš„ç›¸å¯¹è·¯å¾„ã€‚ ä»…åœ¨ WORKSPACE èŒƒå›´å†…æœ‰æ•ˆã€‚ è¯¥è®¾ç½®ä¸ä¼šå½±å“ Maven æˆ– Gradle é¡¹ç›®ã€‚|
java.typeHierarchy.lazyLoad | Enable/disable å»¶è¿ŸåŠ è½½ç±»å‹å±‚æ¬¡ç»“æ„ä¸­çš„å†…å®¹ã€‚ å»¶è¿ŸåŠ è½½å¯ä»¥èŠ‚çœå¤§é‡åŠ è½½æ—¶é—´ï¼Œä½†æ¯ç§ç±»å‹éƒ½åº”æ‰‹åŠ¨æ‰©å±•ä»¥åŠ è½½å…¶å†…å®¹ã€‚ | false
java.codeGeneration.insertionLocation | æŒ‡å®šæºæ“ä½œç”Ÿæˆçš„ä»£ç çš„æ’å…¥ä½ç½®ã€‚ | afterCursorã€‚
java.settings.url |æŒ‡å®šå·¥ä½œåŒº Java è®¾ç½®çš„ url æˆ–æ–‡ä»¶è·¯å¾„ã€‚ è¯·å‚é˜…ï¼š[è®¾ç½®å…¨å±€é¦–é€‰é¡¹](https://github.com/redhat-developer/vscode-java/wiki/Settings-Global-Preferences) |
java.quickfix.showAt | åœ¨é—®é¢˜æˆ–è¡Œçº§åˆ«æ˜¾ç¤ºå¿«é€Ÿä¿®å¤ã€‚| line
java.configuration.workspaceCacheLimit | ä¿ç•™æœªä½¿ç”¨çš„å·¥ä½œåŒºç¼“å­˜æ•°æ®çš„å¤©æ•°ï¼ˆå¦‚æœå¯ç”¨ï¼‰ã€‚ è¶…å‡ºæ­¤é™åˆ¶ï¼Œç¼“å­˜çš„å·¥ä½œåŒºæ•°æ®å¯èƒ½ä¼šè¢«åˆ é™¤ã€‚ |
java.import.generatesMetadataFilesAtProjectRoot | æŒ‡å®šæ˜¯å¦å°†åœ¨é¡¹ç›®æ ¹ç›®å½•ç”Ÿæˆé¡¹ç›®å…ƒæ•°æ®æ–‡ä»¶ï¼ˆ.projectã€.classpathã€.factorypathã€.settings/ï¼‰ã€‚ | false
java.jdt.ls.java.home | ç”¨äºå¯åŠ¨ Java è¯­è¨€æœåŠ¡å™¨çš„ JDK ä¸»æ–‡ä»¶å¤¹çš„ç»å¯¹è·¯å¾„ã€‚ æ­¤è®¾ç½®å°†æ›¿æ¢ Java æ‰©å±•çš„åµŒå…¥å¼ JRE ä»¥å¯åŠ¨ Java è¯­è¨€æœåŠ¡å™¨ã€‚ éœ€è¦é‡å¯ VS Code (1.3.0 æ–°å¢) |

Eclipse é…ç½®ï¼Œå‚è§ï¼š[Wiki](https://github.com/redhat-developer/vscode-java/wiki/Settings-Global-Preferences)

#### å‘½ä»¤

åç§° | è¯´æ˜
--- | ---
Switch to Standard Mode | åˆ‡æ¢åˆ°æ ‡å‡†æ¨¡å¼ |
Java: Update Project (Shift+Alt+U) | å½“ç¼–è¾‘å™¨ä¸“æ³¨äº Maven pom.xml æˆ– Gradle æ–‡ä»¶æ—¶å¯ç”¨ã€‚ å®ƒæ ¹æ®é¡¹ç›®æ„å»ºæè¿°ç¬¦å¼ºåˆ¶é¡¹ç›®é…ç½®/ç±»è·¯å¾„æ›´æ–°ï¼ˆä¾‹å¦‚ä¾èµ–é¡¹æ›´æ”¹æˆ– Java ç¼–è¯‘çº§åˆ«ï¼‰ã€‚
Java: Import Java Projects into Workspace | æ£€æµ‹æ‰€æœ‰ Java é¡¹ç›®å¹¶å°†å…¶å¯¼å…¥ Java è¯­è¨€æœåŠ¡å™¨å·¥ä½œåŒºã€‚
Java: Open Java Language Server Log File | æ‰“å¼€ Java è¯­è¨€æœåŠ¡å™¨æ—¥å¿—æ–‡ä»¶ï¼Œè¿™å¯¹äºè§£å†³é—®é¢˜å¾ˆæœ‰ç”¨ã€‚
Java: Open Java Extension Log File | æ‰“å¼€ Java æ‰©å±•æ—¥å¿—æ–‡ä»¶ï¼Œè¿™å¯¹äºè§£å†³é—®é¢˜å¾ˆæœ‰ç”¨ã€‚
Java: Open All Log Files | æ‰“å¼€ Java è¯­è¨€æœåŠ¡å™¨æ—¥å¿—æ–‡ä»¶å’Œ Java æ‰©å±•æ—¥å¿—æ–‡ä»¶ã€‚
Java: Force Java Compilation (Shift+Alt+B) | å¼ºåˆ¶è§¦å‘å·¥ä½œåŒºçš„ç¼–è¯‘ã€‚
Java: Open Java Formatter Settings | æ‰“å¼€ Eclipse æ ¼å¼åŒ–ç¨‹åºè®¾ç½®ã€‚ å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºä¸€ä¸ªæ–°çš„è®¾ç½®æ–‡ä»¶ã€‚
Java: Clean Java Language Server Workspace | æ¸…ç† Java è¯­è¨€æœåŠ¡å™¨å·¥ä½œåŒºã€‚
Java: Attach Source: attaches a jar/zip source to the currently opened binary class file | æ­¤å‘½ä»¤ä»…åœ¨ç¼–è¾‘å™¨ä¸Šä¸‹æ–‡èœå•ä¸­å¯ç”¨ã€‚
Java: Add Folder to Java Source Path | å°†æ‰€é€‰æ–‡ä»¶å¤¹æ·»åŠ åˆ°å…¶é¡¹ç›®æºä»£ç è·¯å¾„ã€‚ æ­¤å‘½ä»¤ä»…åœ¨æ–‡ä»¶èµ„æºç®¡ç†å™¨ä¸Šä¸‹æ–‡èœå•ä¸­å¯ç”¨ï¼Œå¹¶ä¸”ä»…é€‚ç”¨äºéæ‰˜ç®¡æ–‡ä»¶å¤¹ã€‚
Java: Remove Folder from Java Source Path | ä»å…¶é¡¹ç›®æºè·¯å¾„ä¸­åˆ é™¤é€‰å®šçš„æ–‡ä»¶å¤¹ã€‚ æ­¤å‘½ä»¤ä»…åœ¨æ–‡ä»¶èµ„æºç®¡ç†å™¨ä¸Šä¸‹æ–‡èœå•ä¸­å¯ç”¨ï¼Œå¹¶ä¸”ä»…é€‚ç”¨äºéæ‰˜ç®¡æ–‡ä»¶å¤¹ã€‚
Java: List All Java Source Paths | åˆ—å‡º Java è¯­è¨€æœåŠ¡å™¨å·¥ä½œåŒºè¯†åˆ«çš„æ‰€æœ‰ Java æºè·¯å¾„ã€‚
Java: Show Build Job Status | åœ¨ Visual Studio Code ç»ˆç«¯ä¸­æ˜¾ç¤º Java è¯­è¨€æœåŠ¡å™¨ä½œä¸šçŠ¶æ€ã€‚
Java: Go to Super Implementation | è·³è½¬åˆ°å½“å‰é€‰ä¸­ç¬¦å·çš„è¶…ç±»å®ç°

#### Wiki

https://github.com/redhat-developer/vscode-java/wiki

### [Maven for Java](https://marketplace.visualstudio.com/items?itemName=vscjava.vscode-maven)

#### é…ç½®

| é…ç½® | æè¿° | Default Value |
| --- | --- | --- |
| `maven.excludedFolders` | æŒ‡å®šæœç´¢ Maven é¡¹ç›®æ—¶è¦æ’é™¤çš„æ–‡ä»¶å¤¹çš„æ–‡ä»¶è·¯å¾„æ¨¡å¼ã€‚æŒ‡å®šæœç´¢ Maven é¡¹ç›®æ—¶è¦æ’é™¤çš„æ–‡ä»¶å¤¹çš„æ–‡ä»¶è·¯å¾„æ¨¡å¼ã€‚ | `[ "**/.*", "**/node_modules", "**/target", "**/bin", "**/archetype-resources" ]` |
| `maven.executable.preferMavenWrapper` | æŒ‡å®šæ‚¨æ˜¯å¦æ›´å–œæ¬¢ä½¿ç”¨ Maven åŒ…è£…å™¨ã€‚ å¦‚æœä¸ºçœŸï¼Œå®ƒä¼šå°è¯•é€šè¿‡éå†çˆ¶æ–‡ä»¶å¤¹æ¥ä½¿ç”¨ `mvnw`ã€‚ å¦‚æœä¸º false æˆ–æœªæ‰¾åˆ° `mvnw`ï¼Œåˆ™æ”¹ä¸ºåœ¨ PATH ä¸­å°è¯• `mvn`ã€‚ | `true` |
| `maven.executable.path` | æŒ‡å®š `mvn` å¯æ‰§è¡Œæ–‡ä»¶çš„ç»å¯¹è·¯å¾„ã€‚ å½“æ­¤å€¼ä¸ºç©ºæ—¶ï¼Œå®ƒä¼šæ ¹æ® `maven.executable.preferMavenWrapper` çš„å€¼å°è¯•ä½¿ç”¨ `mvn` æˆ– `mvnw`ã€‚ ä¾‹å¦‚ã€‚ `/usr/local/apache-maven-3.6.0/bin/mvn`|  |
| `maven.executable.options` | æŒ‡å®šæ‰€æœ‰ mvn å‘½ä»¤çš„é»˜è®¤é€‰é¡¹ã€‚ ä¾‹å¦‚ `-o -DskipTests` |  |
| `maven.projectOpenBehavior` | æ–°å»ºé¡¹ç›®çš„é»˜è®¤æ‰“å¼€æ–¹å¼ | `"Interactive"` |
| `maven.pomfile.autoUpdateEffectivePOM` | æŒ‡å®šæ˜¯å¦åœ¨æ£€æµ‹åˆ°æ›´æ”¹æ—¶è‡ªåŠ¨æ›´æ–°æœ‰æ•ˆ pomã€‚ | `false` |
| `maven.pomfile.globPattern` | æŒ‡å®šç”¨äºæŸ¥æ‰¾ pom.xml æ–‡ä»¶çš„ glob æ¨¡å¼ã€‚ | `**/pom.xml` |
| `maven.terminal.useJavaHome` | å¦‚æœæ­¤å€¼ä¸º trueï¼Œå¹¶ä¸”è®¾ç½® java.home æœ‰å€¼ï¼Œåˆ™åœ¨åˆ›å»ºæ–°ç»ˆç«¯çª—å£æ—¶ï¼Œç¯å¢ƒå˜é‡ JAVA\_HOME å°†è®¾ç½®ä¸º java.home çš„å€¼ã€‚ | `false` |
| `maven.terminal.customEnv` | æŒ‡å®šç¯å¢ƒå˜é‡åç§°å’Œå€¼çš„æ•°ç»„ã€‚ è¿™äº›ç¯å¢ƒå˜é‡å€¼å°†åœ¨æ‰§è¡Œ Maven ä¹‹å‰æ·»åŠ ã€‚`environmentVariable`ï¼šè¦è®¾ç½®çš„ç¯å¢ƒå˜é‡çš„åç§°ã€‚`value`ï¼šè¦è®¾ç½®çš„ç¯å¢ƒå˜é‡çš„å€¼ã€‚| `[]` |
| `maven.terminal.favorites` | æŒ‡å®šè¦æ‰§è¡Œçš„é¢„å®šä¹‰æ”¶è—å‘½ä»¤ã€‚`alias`ï¼šå‘½ä»¤çš„ç®€ç§°ã€‚`command`: æ”¶è—å‘½ä»¤çš„å†…å®¹ã€‚ | `[]` |
| `maven.view` |æŒ‡å®šæŸ¥çœ‹ Maven é¡¹ç›®çš„æ–¹å¼ã€‚ å¯èƒ½çš„å€¼ï¼š`flat`ã€`hierarchical`ã€‚| `flat` |
| `maven.settingsFile` | æŒ‡å®š Maven `settings.xml` æ–‡ä»¶çš„ç»å¯¹è·¯å¾„ã€‚ å¦‚æœæœªæŒ‡å®šï¼Œåˆ™ä½¿ç”¨ `~/.m2/settings.xml`ã€‚ | `null` |

## åœºæ™¯å’Œå°æŠ€å·§

### å¿«é€Ÿåˆ›å»ºé¡¹ç›®

é€šè¿‡å‘½ä»¤ `>Java: Create Java Project` å¯ä»¥å¿«é€Ÿåˆ›å»º Mavenã€Gradleã€Spring Bootã€MicroProfileã€Quarkusã€JavaFX é¡¹ç›®ã€‚

### ç¯å¢ƒå’Œä¾èµ–

#### JDK ç›¸å…³

å‚è§ï¼š[å¸®åŠ©ä¸­å¿ƒ](#JDK é…ç½®) å’Œ [JDK é…ç½®](#jdk-é…ç½®)

#### å¿«é€Ÿæ·»åŠ ä¾èµ–

* æœç´¢æ·»åŠ  Maven ä¾èµ–ï¼šæ‰§è¡Œå‘½ä»¤ `>Maven: Add a Dependency`
* æœç´¢æ·»åŠ  Gradle ä¾èµ–ï¼Œç›´æ¥ç¼–å†™ `build.gradle` ç­‰é…ç½®æ–‡ä»¶çš„ dependencies æ—¶ä¼šè‡ªåŠ¨æç¤º
* æœç´¢æ·»åŠ  Spring Boot Starter ä¾èµ–ï¼šæ‰§è¡Œå‘½ä»¤ `>spring initializr: add starters`

#### æŸ¥çœ‹é¡¹ç›®ä¾èµ–åŠä¾èµ–å›¾

* Maven é€šè¿‡èµ„æºç®¡ç†å™¨ä¾§è¾¹æ  -> Maven è§†å›¾ -> å³å‡»é¡¹ç›® -> æ˜¾ç¤ºæ‰€æœ‰ä¾èµ–ï¼Œå¯ä»¥å¿«é€Ÿå±•ç¤ºä¾èµ–æ ‘è§†å›¾
* Gradle æš‚ä¸æ”¯æŒï¼Œé€šè¿‡å‘½ä»¤æŸ¥çœ‹ï¼š `gradle dependencies`

#### å½»åº•æ¸…ç†ç”Ÿæˆé¡¹ç›®é…ç½®å’Œç¼“å­˜

Java Language Server å­˜åœ¨å¼‚å¸¸æ—¶ï¼Œå¯ä»¥é€šè¿‡å¦‚ä¸‹æ­¥éª¤ä»ä¸Šåˆ°ä¸‹å°è¯•ä½¿ç”¨ï¼š

* å…ˆå°è¯•æ‰§è¡Œ `>java: clean java language server workspace` å‘½ä»¤
* å¦‚æœä¸Šè¿°æ­¥éª¤æ— æ•ˆï¼Œå¯ä»¥å°è¯•å½»åº•å…³é—­ VSCodeï¼Œæ¸…ç† Language Server ç”Ÿæˆçš„ä¸€äº›é…ç½®æ–‡ä»¶ã€‚

```bash
# cd é¡¹ç›®æ ¹ç›®å½•
rm -rf .projectã€.classpathã€.factorypathã€.settings
```

### Maven/Gradle Wrapper åŠ é€Ÿ

ç›¸å…³ Jar åŒ…ä¸‹è½½é…ç½® `.mvn/wrapper/maven-wrapper.properties`

```properties
distributionUrl=https://mirrors.huaweicloud.com/repository/maven/org/apache/maven/apache-maven/3.6.3/apache-maven-3.6.3-bin.zip
wrapperUrl=https://mirrors.huaweicloud.com/repository/maven/io/takari/maven-wrapper/0.5.6/maven-wrapper-0.5.6.jar
```

é¡¹ç›®çº§åˆ« maven settings `.mvn/wrapper/settings.xml`

```xml
<?xml version="1.0" encoding="UTF-8"?>
<settings xmlns="http://maven.apache.org/SETTINGS/1.0.0"
          xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
          xsi:schemaLocation="http://maven.apache.org/SETTINGS/1.0.0 http://maven.apache.org/xsd/settings-1.0.0.xsd">
  <mirrors>
    <mirror>
      <id>alimaven</id>
      <name>aliyun maven</name>
      <url>http://maven.aliyun.com/nexus/content/groups/public/</url>
      <mirrorOf>central</mirrorOf>
    </mirror>
  </mirrors>
  <profiles>
  </profiles>
</settings>
```

### å¦‚ä½•å¼€å‘ Java 8 ä»¥åŠä»¥ä¸‹ç‰ˆæœ¬çš„é¡¹ç›®

* [Language Support for Javaâ„¢ by Red Hat](https://marketplace.visualstudio.com/items?itemName=redhat.java) 1.3.0 ç‰ˆæœ¬ä»¥ä¸Šçš„å¹³å°ç‰¹å®šç‰ˆæœ¬å…é…ç½®ï¼Œå³å¯è‡ªåŠ¨æ”¯æŒï¼ˆé™åˆ¶åœ¨ VSCode ä¸­é€šè¿‡ å¾®è½¯å®˜æ–¹æ‰©å±•å¸‚åœºæ”¯æŒç‰¹å®šå¹³å°çš„ç‰ˆæœ¬æ‰©å±•å¸‚åœºï¼‰ï¼ˆOpen VSX ä¸æ”¯æŒï¼‰
* æ—§ç‰ˆæˆ–è€…é€šç”¨ç‰ˆæœ¬ Java 11 ä»¥ä¸Šç‰ˆæœ¬çš„ JRE æ¥å¯åŠ¨ Language Server

```json
{
    // "java.home":"/path/to/jdk11", // æ—§ç‰ˆæœ¬ Java Languange Server
    "java.jdt.ls.java.home": "/path/to/jdk11"
}
```

### å¦‚ä½•æ”¯æŒ Maven é¡¹ç›®åŠ¨æ€ç”Ÿæˆçš„ä»£ç 

> å‚è§ï¼š[Wiki](https://github.com/redhat-developer/vscode-java/wiki/Annotation-Processing-support-for-Maven-projects)

pom.xml ä¸­æ·»åŠ  `build-helper-maven-plugin`ï¼Œè®© Java Language Server è¯†åˆ«ç”Ÿæˆçš„ä»£ç ã€‚

```xml
  <properties>
    <generatedSources>${project.build.directory}/generated-sources/java</generatedSources>
  </properties>
  <build>
    <plugins>
      <plugin>
        <groupId>org.codehaus.mojo</groupId>
        <artifactId>build-helper-maven-plugin</artifactId>
        <version>3.0.0</version>
        <executions>
          <execution>
            <!-- Need to ensure the generated source folder is added to the project classpath, in jdt.ls -->
            <id>add-source</id>
            <phase>generate-sources</phase>
            <goals>
              <goal>add-source</goal>
            </goals>
            <configuration>
              <sources>
                <source>${generatedSources}</source>
              </sources>
            </configuration>
          </execution>
        </executions>
      </plugin>
    </plugins>
  </build>
```

### VSCode Spring Boot Yaml å’Œ Properties è¯†åˆ«è‡ªå®šä¹‰é…ç½®ç±»

æ·»åŠ å¦‚ä¸‹ä¾èµ–ï¼Œç”Ÿæˆé¡¹ç›®çš„ Configuration Metadataï¼Œæ›´å¤šå‚è§ï¼š[Spring å®˜æ–¹æ–‡æ¡£](https://docs.spring.io/spring-boot/docs/current/reference/html/configuration-metadata.html#configuration-metadata.annotation-processor) | [åšå®¢](https://www.baeldung.com/spring-boot-configuration-metadata)

```xml
<dependency>
    <groupId>org.springframework.boot</groupId>
    <artifactId>spring-boot-configuration-processor</artifactId>
    <optional>true</optional>
</dependency>
```

### é¿å…æ–­ç‚¹åˆ° Spring åˆ‡é¢ä»£ç ä¸­

å°†ç›¸å…³ä¸æƒ³æ–­ç‚¹è¿›å…¥çš„åŒ…è·¯å¾„ï¼Œé…ç½®åˆ° launch.json çš„ Java è°ƒè¯•é…ç½®çš„ `stepFilters` çš„ `skipClasses` ä¸­ã€‚

ç¤ºä¾‹å¦‚ä¸‹ï¼š

```json
{
    "configurations": [
        {
            "type": "java",
            "name": "Launch DemoApplication",
            "request": "launch",
            "mainClass": "com.example.demo.DemoApplication",
            "projectName": "demo",
            "stepFilters": {
                "skipClasses": [
                    "$JDK",
                    "$Libraries",
                ],
                "skipSynthetics": true,
                "skipStaticInitializers": false,
                "skipConstructors": false
            }
        }
    ]
}
```

æ³¨æ„ï¼šä¸Šä¾‹ä¸­çš„é…ç½®å°†ä¼šç¦æ­¢è°ƒè¯•æ—¶è¿›å…¥ `JDK` å’Œ æ‰€æœ‰å¤–éƒ¨ä¾èµ–åº“ï¼Œå¯èƒ½ä¼šå½±å“é˜…è¯»å’Œè°ƒè¯•åº“ä»£ç ã€‚å¯ä»¥å°è¯•ä½¿ç”¨ï¼š`xxx.xxx.ClassXxx` æˆ– `xxx.xxx.*`çš„æ–¹å¼è¿›è¡Œç»†ç²’åº¦çš„ç¦ç”¨ï¼ˆç›¸å¯¹æ¯”è¾ƒç¹çï¼‰ã€‚

## æ•…éšœæ’é™¤ Troubleshooting

* [FAQ](https://code.visualstudio.com/docs/java/java-faq)
* ç¡®è®¤æä¾›è¯¥ Feature çš„æ‰©å±•
* æŸ¥çœ‹å„ä¸ªæ‰©å±• Troubleshooting æ‰‹å†Œ
    * è°ƒè¯•ç›¸å…³ [Troubleshooting](https://github.com/microsoft/vscode-java-debug/blob/main/Troubleshooting.md)
    * Language Server [Troubleshooting](https://github.com/redhat-developer/vscode-java/wiki/Troubleshooting)
    * Language Server [è¯ä¹¦é—®é¢˜](https://github.com/redhat-developer/vscode-java/wiki/Use-proper-cacerts-to-import-Java-projects)
    * Language Server [Proxy é—®é¢˜](https://github.com/redhat-developer/vscode-java/wiki/Using-a-Proxy)

## Reference

* [VSCode Docs - Language Java](https://code.visualstudio.com/docs/languages/java#_install-visual-studio-code-for-java)
* [VSCode Docs - Java - Project Manager](https://code.visualstudio.com/docs/java/java-project)
* [VSCode Docs - Java - Navigate and Edit](https://code.visualstudio.com/docs/java/java-editing)
* [VSCode Docs - Java - Build Tools](https://code.visualstudio.com/docs/java/java-build#_maven)
* [VSCode Docs - Java - Navigate and Edit](https://code.visualstudio.com/docs/java/java-editing)
* [VSCode Docs - Java - Refactoring](https://code.visualstudio.com/docs/java/java-refactoring)
* [VSCode Docs - Java - Linting](https://code.visualstudio.com/docs/java/java-linting)
* [VSCode Docs - Java - Debugging](https://code.visualstudio.com/docs/java/java-debugging)
* [VSCode Docs - Java - Testing](https://code.visualstudio.com/docs/java/java-testing)
* [VSCode Docs - Java - Application Servers](https://code.visualstudio.com/docs/java/java-spring-boot)
* [VSCode Docs - Java - Spring Boot](https://code.visualstudio.com/docs/java/java-spring-boot)
* [VSCode Docs - Java - GUI Applications](https://code.visualstudio.com/docs/java/java-gui)

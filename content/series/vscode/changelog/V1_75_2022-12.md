---
title: "VSCode 1.75 (2022-12) 更新日志"
date: 2023-02-06T02:00:00+08:00
draft: true
toc: true
comments: true
weight: 10300
---

> https://code.visualstudio.com/updates/v1_75

## 本次更新看点速览

## 可访问性 (Accessibility)

* diff 导航提升，转到上一个/下一个有音频指示是插入删除还是修改。被更改行的选中屏幕阅读器会播报。
* 添加了一个命令 `>Terminal: Show Terminal Accessibility Help` 类似于 `Show Accessibility Help` 将展示终端可访问性帮助。

    ![image](/image/vscode/terminal-accessibility-help.png)

* Workspace Trust 编辑器添加快捷键支持，可以通过 `Ctrl/Cmd+Enter`、`Ctrl/Cmd+Shift+Enter` 快捷键快速信任当期工作区目录、父目录。

    ![image](/image/vscode/trust-editor-shortcuts.png)

* 改进了设置编辑器指示器上的拥有多个修改指示器的键盘导航

    <video autoplay="" loop="" muted="" playsinline="" controls="" width="100%">
    <source src="/image/vscode/Video-showing-user-navigating-a-setting-with-multiple-indicators-with-arrow-keys.mp4" type="video/mp4">
    </video>

## 配置文件 (Profiles)

预览了几个月的 Profiles 特性正式上线到该稳定版。

过去，VSCode 只有一套全局配置，没有办法为某种开发场景目定制一套专有配置。其次，配置没法分享。

现在，通过 Porfiles 机制，可以针对不同场景进行不同的配置。可以使用其他人分享的配置，但不影响自己的配置。

Profiles 包含：设置（`settings.json`）、任务配置（`tasks.json`）、代码片段（`snippets`）、扩展程序（`extensions`）、UI 状态（`globalState`）。这些内容将以 `profileName.code-profile` 文件储存。该文件是一个 json 文件，格式类似如下：

```json
{
    "name": "profileName",
    "settings": "",
    "tasks": "",
    "snippets": "",
    "extensions": "",
    "globalState": ""
}
```

可以通过左下角齿轮图标 -> 配置文件使用此功能。

* 第一部分：选择一个 Profiles 并应用。
* 显示内容 ...： 打开当前 Profiles 的内容。
* 创建配置文件：
    * 创建空配置文件 ...：相当于打开刚安装的全新的干净的 VSCode。
    * 从当前配置文件创建...：fork 一份当前的配置文件，在该配置文件上的修改不会影响之前的配置。
* Exports Profiles...：将配置文件导出到磁盘中或者直接发布到 github gist。
* 导入配置文件...：将一份配置文件导入到 VSCode 中并使用他。

![image](/image/vscode/work-profile.png)

导出到 github gist 的配置文件，可以直接通过一个链接 vscode.dev 打开，并引导用户一键导入到本地 VSCode 中。

![image](/image/vscode/export-share-profile.gif)

> 注意：当前版本，在 Remote 和 Github Codespaces 中，该功能存在问题，可以关注： [issue #165247](https://github.com/microsoft/vscode/issues/165247)

## 工作台 (Workbench)

* 提升多视图大小调整，在三个视图焦点位置，可以一次调整 3 个视图。

    <video autoplay="" loop="" muted="" playsinline="" controls="" width="100%">
    <source src="/image/vscode/Video-showing-the-user-dragging-corners-of-views-and-resizing-them-simultaneously.mp4" type="video/mp4">
    </video>

* 提升网格布局。如果编辑器的宽度被调整到最小化，则在调整整个工作台或侧边栏的大小时，网格现在将保留该状态。在下面的短视频中，右侧最小化编辑器的宽度随着整个编辑器区域的扩展而保持不变。

    <video autoplay="" loop="" muted="" playsinline="" controls="" width="100%">
    <source src="/image/vscode/Video-showing-the-user-resizing-views-in-the-editor-grid-and-demonstrating-how-a-minimized-view-maintains-its-state.mp4" type="video/mp4">
    </video>

* 自定义布局命令 `>Customize Layout`，支持撤销操作。

    ![image](/image/vscode/customize-layout.png)

* 面板标题上下文菜单支持配置对齐方式。

    ![image](/image/vscode/panel-context-menu.png)

* 简化全局设置菜单（左下角齿轮）。

    ![image](/image/vscode/global-settings-menu.png)

* 树查找历史，支持通过 上下键浏览查找历史。
* 树查找支持连续匹配（点掉，波浪线放大镜图标）。

    <video autoplay="" loop="" muted="" playsinline="" controls="" width="100%">
    <source src="/image/vscode/Video-showing-the-user-toggling-between-contiguous-and-fuzzy-find-in-the-explorer-tree.mp4" type="video/mp4">
    </video>

* 通过 `workbench.list.scrollByPage` 配置，控制点击列表的滚动条（如资源管理器）上下方按页滚动（编辑有专门的配置 `editor.scrollbar.scrollByPage`）。
* 通过 `workbench.list.typeNavigationMode` 配置，控制在列表页按键盘时，聚焦到匹配的项目。默认为 `automatic`，按任意键匹配，`trigger` 可以配置按下某个键后才进行匹配。

    ```json
    {
        "key": "/",
        "command": "list.toggleKeyboardNavigation",
        "when": "listFocus"
    }
    ```

* 打开大文件的确认进行提示，通过 `workbench.editorLargeFileConfirmation` 配置，控制大文件的 MB。默认为 10M。

    ![image](/image/vscode/large-file-confirm.png)

* 文件 watcher 地址库支持 `files.watcherExclude` glob 模式，参见：[FAQ](https://code.visualstudio.com/docs/setup/linux#_visual-studio-code-is-unable-to-watch-for-file-changes-in-this-large-workspace-error-enospc)、[PR](https://github.com/parcel-bundler/watcher/pull/106)。
* 键盘快捷键编辑器提升。
    * 支持查看贡献该快捷键的扩展，通过 Source 列。

        ![image](/image/vscode/keyboard-shortcuts-extensions.png)

    * 在扩展列表页设置菜单，支持查看当前扩展的快捷键。

        ![image](/image/vscode/extension-show-keyboard-shortcuts.png)

    * When 编辑支持只能提示。

        ![image](/image/vscode/when-context-key-suggestions.png)

    * `Ctrl+K` 会显示所有以 `Ctrl+K` 开头的快捷键。

* 通过 `application.shellEnvironmentResolutionTimeout` 配置项（仅限 macOS 和 Linux），配置 shell 环境解析超时（参见 [FAQ](https://code.visualstudio.com/docs/supporting/faq#_resolving-shell-environment-fails)）。
* shell 环境解析时会添加 `VSCODE_RESOLVING_ENVIRONMENT` 环境变量。
* 发行说明页添加一个选择框，快速配置不展示发行说明，对应的配置项为 `update.showReleaseNotes`。

    ![image](/image/vscode/release-notes.png)
